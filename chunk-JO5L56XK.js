import{a as P}from"./chunk-H4S4X5OA.js";import{a as W}from"./chunk-662BGCM4.js";import{a as y}from"./chunk-KPWT4AZA.js";import{d as k}from"./chunk-B2E53Q3J.js";import{d as I}from"./chunk-ARH7HIPE.js";import"./chunk-KPZBUCCV.js";import"./chunk-MO4VOJ6B.js";import{a as B}from"./chunk-QR7RS26O.js";import{b as j}from"./chunk-HCO6HHKT.js";import"./chunk-RGXTWLH4.js";import"./chunk-VIKG75FC.js";import{Db as F,Eb as h,La as M,N as O,Qa as l,Z as C,Zb as E,_a as S,da as H,eb as p,fb as v,gb as T,hb as D,jb as m,ma as V,na as w,pb as _,ub as c,vb as u,wb as n,zb as N}from"./chunk-COZJJN5U.js";var U=()=>[import("./chunk-GCLK6MJR.js").then(e=>e.ModalTemplateComponent),import("./chunk-GCLK6MJR.js").then(e=>e.ModalBannerSplashComponent)],q=()=>[import("./chunk-GASJWCNO.js").then(e=>e.CarruselDestacadosComponent)],R=()=>[import("./chunk-QZP6AJVF.js").then(e=>e.DestacadosComponent)],G=()=>[import("./chunk-XERJYRB6.js").then(e=>e.RecomendacionesComponent)],A=()=>[import("./chunk-3AZRIM4G.js").then(e=>e.EventosComponent)],J=()=>[import("./chunk-K7FKUP2H.js").then(e=>e.MasVistosComponent)],K=()=>[import("./chunk-JKJXWVSP.js").then(e=>e.ProductosComponent)],Q=()=>[import("./chunk-CWUNOGYT.js").then(e=>e.MarquesinaComponent)],X=()=>[import("./chunk-Q3MFBYYH.js").then(e=>e.IframeFacebookComponent)],Y=()=>[import("./chunk-DM7D72TJ.js").then(e=>e.PatrocinadoresComponent)];function Z(e,o){if(e&1&&(c(0,"app-modal-template",7),n(1,"app-modal-banner-splash",8),u()),e&2){let i=h();m("show_modal",i.show_modal),l(),m("banner",i.banner_splash)}}function $(e,o){if(e&1&&n(0,"app-banner",0),e&2){let i=h();m("seccion","home")("datos",i.BD1)("tipo","movil")}}function ee(e,o){if(e&1&&n(0,"app-banner",0),e&2){let i=h();m("seccion","home")("datos",i.BD1)("tipo","largo")}}function ie(e,o){e&1&&n(0,"app-marquesina")}function te(e,o){e&1&&n(0,"div",9)}function ne(e,o){e&1&&(p(0,ie,1,0)(1,te,1,0),v(2,0,Q,null,1),D(0,-1))}function oe(e,o){e&1&&n(0,"app-carrusel-destacados")}function ae(e,o){e&1&&n(0,"div",10)}function se(e,o){if(e&1&&(c(0,"section"),n(1,"app-banner",3),u()),e&2){let i=h();l(),m("seccion","home")("tipo","movil")("datos",i.BD2)}}function re(e,o){e&1&&n(0,"app-destacados")}function le(e,o){e&1&&n(0,"div",11)}function me(e,o){if(e&1&&n(0,"app-banner",3),e&2){let i=h();m("seccion","home")("tipo","movil")("datos",i.BD3)}}function pe(e,o){if(e&1&&n(0,"app-banner",3),e&2){let i=h();m("seccion","home")("tipo","largo")("datos",i.BD4)}}function he(e,o){e&1&&n(0,"app-recomendaciones")}function _e(e,o){e&1&&n(0,"div",12)}function ce(e,o){if(e&1&&n(0,"app-banner",4),e&2){let i=h();m("seccion","home")("tipo","movil")("tipoBanner","fijo")("datos",i.BannerFijoMovil)}}function de(e,o){if(e&1&&n(0,"app-banner",3),e&2){let i=h();m("seccion","home")("tipo","largo")("datos",i.BO1)}}function fe(e,o){e&1&&n(0,"app-eventos")}function ue(e,o){e&1&&n(0,"div",13)}function be(e,o){if(e&1&&n(0,"app-banner",3),e&2){let i=h();m("seccion","home")("tipo","movil")("datos",i.BO1)}}function ve(e,o){if(e&1&&n(0,"app-banner",3),e&2){let i=h();m("seccion","home")("tipo","largo")("datos",i.BO3)}}function De(e,o){e&1&&n(0,"app-mas-vistos")}function Be(e,o){e&1&&n(0,"div",14)}function Ce(e,o){if(e&1&&n(0,"app-banner",3),e&2){let i=h();m("seccion","home")("tipo","movil")("datos",i.BO2)}}function Oe(e,o){if(e&1&&n(0,"app-banner",3),e&2){let i=h();m("seccion","home")("tipo","largo")("datos",i.BO4)}}function xe(e,o){e&1&&n(0,"app-productos")}function ge(e,o){e&1&&n(0,"div",15)}function Me(e,o){if(e&1&&(c(0,"section"),n(1,"app-banner",0),u()),e&2){let i=h();l(),m("seccion","home")("datos",i.BO3)("tipo","movil")}}function Se(e,o){e&1&&n(0,"app-iframe-facebook")}function He(e,o){e&1&&n(0,"div",16)}function Ve(e,o){e&1&&(p(0,Se,1,0)(1,He,1,0),v(2,0,X,null,1),D(0,-1))}function we(e,o){if(e&1){let i=N();c(0,"div",17),F("click",function(){V(i);let s=h();return w(s.ClickFijo("web"))}),c(1,"a",18),n(2,"img",19),u()()}if(e&2){let i=h();l(),m("href",i.BannerFijoWeb.link,M)("id",i.BannerFijoWeb.id),l(),m("src",i.BannerFijoWeb.banner,M)}}function Te(e,o){e&1&&n(0,"app-iframe-instagram")}function Ne(e,o){e&1&&n(0,"app-patrocinadores")}function Fe(e,o){e&1&&n(0,"div",20)}function Ee(e,o){e&1&&(p(0,Ne,1,0)(1,Fe,1,0),v(2,0,Y,null,1),D(0,-1))}var b=B.division,je=B.nombre_sitio,Ke=(()=>{class e{constructor(){this._homeService=C(P),this._magazineService=C(k),this._generalService=C(I),this._titleService=C(j),this.is_movil=S(!1),this.isBannerMovilVisible=!1,this.show_modal=S(!1),this.banners_diamante_web=[],this.banners_oro_web=[],this.banners_diamante_movil=[],this.banners_oro_movil=[],this.camp_Diamante=[],this.camp_Oro=[],this.uno_D=[],this.dos_D=[],this.tres_D=[],this.cuatro_D=[],this.uno_O=[],this.dos_O=[],this.tres_O=[],this.cuatro_O=[],this.IntervalBanners=null,this.vueltas_D=1,this.vueltas_O=0,this.BD1={id:0,id_campana:0,banner:"",area:0,link:"",empresa:"",idEmpresa:0,vuelta:0},this.BD2={id:0,id_campana:0,banner:"",area:0,link:"",empresa:"",idEmpresa:0,vuelta:0},this.BD3={id:0,id_campana:0,banner:"",area:0,link:"",empresa:"",idEmpresa:0,vuelta:0},this.BD4={id:0,id_campana:0,banner:"",area:0,link:"",empresa:"",idEmpresa:0,vuelta:0},this.BO1={id:0,id_campana:0,banner:"",area:0,link:"",empresa:"",idEmpresa:0,vuelta:0},this.BO2={id:0,id_campana:0,banner:"",area:0,link:"",empresa:"",idEmpresa:0,vuelta:0},this.BO3={id:0,id_campana:0,banner:"",area:0,link:"",empresa:"",idEmpresa:0,vuelta:0},this.BO4={id:0,id_campana:0,banner:"",area:0,link:"",empresa:"",idEmpresa:0,vuelta:0},this.BannerFijoWeb={id:0,banner:"",empresa:0,link:"",plataforma:""},this.cargaBannerFijo=!1,this.BannerFijoMovil={id:0,banner:"",empresa:0,link:"",plataforma:""},this.primeraLlamadaWeb=!1,this.primeraLlamadaMovil=!1,this.isBannerSplashMovilVisible=!1,this.isModalVisible=!1,this.tipoModalSplah="imagen",this.bannerSplashMovil={id:0,empresa:0,banner:"",link:"",tipo:"",idVimeo:""},this.banner_splash={id:0,empresa:0,banner:"",link:"",tipo:"",idVimeo:""},window.innerWidth<900&&(this.isBannerMovilVisible=!0),window.innerWidth<1024&&this.is_movil.set(!0)}ngOnInit(){this._titleService.setTitle(je),this.cargaBanners(),this.primeraCargaBannerFijo(),this.cargaBannerSplash(),this._homeService.getBannerSplash(b,this.is_movil()?"movil":"web").subscribe({next:i=>{this.banner_splash=i.data,this.banner_splash.id!=0&&this.show_modal.set(!0)}})}ngOnDestroy(){this.IntervalBanners!=null&&clearInterval(this.IntervalBanners),clearInterval(this.IntervalBanners)}cargaBanners(){!this.isBannerMovilVisible&&this.banners_diamante_web.length==0&&this._homeService.getBannersHome(b,"Diamante","web").subscribe(i=>{i.success&&(this.banners_diamante_web=i.data,this.restartInterval())}),!this.isBannerMovilVisible&&this.banners_oro_web.length==0&&this._homeService.getBannersHome(b,"Oro","web").subscribe(i=>{i.success&&(this.banners_oro_web=i.data,this.restartInterval())}),this.isBannerMovilVisible&&this.banners_diamante_movil.length==0&&this._homeService.getBannersHome(b,"Diamante","movil").subscribe(i=>{i.success&&(this.banners_diamante_movil=i.data,this.restartInterval())}),this.isBannerMovilVisible&&this.banners_oro_movil.length==0&&this._homeService.getBannersHome(b,"Oro","movil").subscribe(i=>{i.success&&(this.banners_oro_movil=i.data,this.restartInterval())}),this.restartInterval()}restartInterval(){this.camp_Diamante=this.isBannerMovilVisible?this.banners_diamante_movil:this.banners_diamante_web,this.camp_Oro=this.isBannerMovilVisible?this.banners_oro_movil:this.banners_oro_web;let i=this.isBannerMovilVisible?"Movil":"Web";this.camp_Diamante.length!=0&&this.uno_D.length==0&&this.CalculoConstantes("Diamante",i),this.camp_Oro.length!=0&&this.uno_O.length==0&&this.CalculoConstantes("Oro",i),this.IntervalBanners!=null&&clearInterval(this.IntervalBanners),this.bannersDiamante(),this.bannersOro(),this.IntervalBanners=setInterval(()=>{this.bannersDiamante(),this.bannersOro()},1e4)}CalculoConstantes(i,r){if(i==="Diamante"){this.uno_D=[],this.dos_D=[],this.tres_D=[],this.cuatro_D=[];let t=this.camp_Diamante.length,L=this.isBannerMovilVisible?3:4,g=t/L,f=0;for(let a=f;a<t;a++)this.uno_D.push(a);f=0;for(let a=0;a<f;a++)this.uno_D.push(a);f=Number(Math.floor(g));for(let a=f;a<t;a++)this.dos_D.push(a);for(let a=0;a<f;a++)this.dos_D.push(a);f=Number(Math.floor(g))*2;for(let a=f;a<t;a++)this.tres_D.push(a);for(let a=0;a<f;a++)this.tres_D.push(a);if(r==="Web"){f=Number(Math.floor(g))*3;for(let a=f;a<t;a++)this.cuatro_D.push(a);for(let a=0;a<f;a++)this.cuatro_D.push(a)}}this.uno_O=[],this.dos_O=[],this.tres_O=[],this.cuatro_O=[];let s=this.camp_Oro.length,z=this.isBannerMovilVisible?3:4,x=s/z,d=0;for(let t=d;t<s;t++)this.uno_O.push(t);d=0;for(let t=0;t<d;t++)this.uno_O.push(t);d=Number(Math.floor(x));for(let t=d;t<s;t++)this.dos_O.push(t);for(let t=0;t<d;t++)this.dos_O.push(t);d=Number(Math.floor(x))*2;for(let t=d;t<s;t++)this.tres_O.push(t);for(let t=0;t<d;t++)this.tres_O.push(t);if(!this.isBannerMovilVisible){d=Number(Math.floor(x))*3;for(let t=d;t<s;t++)this.cuatro_O.push(t);for(let t=0;t<d;t++)this.cuatro_O.push(t)}}impresion(i,r){B.production&&!B.isSandbox&&this._generalService.getIdUsuario().pipe(O(s=>this._homeService.saveImpresionesHome(i,r,b,s,"home"))).subscribe()}bannersDiamante(){this.camp_Diamante.length!=0&&(this.vueltas_D>=this.uno_D.length&&(this.vueltas_D=0),this.isBannerMovilVisible?((this.uno_D.length==0||this.dos_D.length==0||this.tres_D.length==0)&&this.CalculoConstantes("Diamante","movil"),this.BD1=this.camp_Diamante[this.uno_D[this.vueltas_D]][0],this.BD2=this.camp_Diamante[this.dos_D[this.vueltas_D]][0],this.BD3=this.camp_Diamante[this.tres_D[this.vueltas_D]][0],this.impresion(Number(this.BD1.id),Number(this.BD1.idEmpresa)),this.impresion(Number(this.BD2.id),Number(this.BD2.idEmpresa)),this.impresion(Number(this.BD3.id),Number(this.BD3.idEmpresa))):((this.uno_D.length==0||this.dos_D.length==0||this.tres_D.length==0||this.cuatro_D.length==0)&&this.CalculoConstantes("Diamante","Web"),this.BD1=this.camp_Diamante[this.uno_D[this.vueltas_D]][0],this.BD2=this.camp_Diamante[this.dos_D[this.vueltas_D]][1],this.BD3=this.camp_Diamante[this.tres_D[this.vueltas_D]][2],this.BD4=this.camp_Diamante[this.cuatro_D[this.vueltas_D]][3],this.impresion(Number(this.BD1.id),Number(this.BD1.idEmpresa)),this.impresion(Number(this.BD2.id),Number(this.BD2.idEmpresa)),this.impresion(Number(this.BD3.id),Number(this.BD3.idEmpresa)),this.impresion(Number(this.BD4.id),Number(this.BD4.idEmpresa))),this.vueltas_D++)}bannersOro(){this.camp_Oro.length!=0&&(this.vueltas_O>=this.uno_O.length&&(this.vueltas_O=0),this.isBannerMovilVisible?(this.BO1=this.camp_Oro[this.uno_O[this.vueltas_O]][0],this.BO2=this.camp_Oro[this.dos_O[this.vueltas_O]][0],this.BO3=this.camp_Oro[this.tres_O[this.vueltas_O]][0],this.impresion(Number(this.BO1.id),Number(this.BO1.idEmpresa)),this.impresion(Number(this.BO2.id),Number(this.BO2.idEmpresa)),this.impresion(Number(this.BO3.id),Number(this.BO3.idEmpresa))):(this.BO1=this.camp_Oro[this.uno_O[this.vueltas_O]][0],this.BO2=this.camp_Oro[this.dos_O[this.vueltas_O]][1],this.BO3=this.camp_Oro[this.tres_O[this.vueltas_O]][2],this.BO4=this.camp_Oro[this.cuatro_O[this.vueltas_O]][3],this.impresion(Number(this.BO1.id),Number(this.BO1.idEmpresa)),this.impresion(Number(this.BO2.id),Number(this.BO2.idEmpresa)),this.impresion(Number(this.BO3.id),Number(this.BO3.idEmpresa)),this.impresion(Number(this.BO4.id),Number(this.BO4.idEmpresa))),this.vueltas_O++)}primeraCargaBannerFijo(){!this.isBannerMovilVisible&&this.BannerFijoWeb.id==0&&this._homeService.getBannerFijoHome(b,15).subscribe(i=>{i.success&&(this.BannerFijoWeb=i.data,this.impresionBannerFijo(i.data.id,i.data.empresa))}),this.isBannerMovilVisible&&this.BannerFijoMovil.id==0&&this._homeService.getBannerFijoHome(b,17).subscribe(i=>{i.success&&(this.BannerFijoMovil={id:i.data.id,banner:i.data.banner,empresa:i.data.empresa,link:i.data.link,plataforma:"movil"},this.impresionBannerFijo(this.BannerFijoMovil.id,this.BannerFijoMovil.empresa))})}impresionBannerFijo(i,r){B.production&&!B.isSandbox&&this._generalService.getIdUsuario().pipe(O(s=>this._generalService.saveImpresionBannerOtros(b,i,r,s,"fijo"))).subscribe()}ClickFijo(i){B.production&&!B.isSandbox&&this._generalService.getIdUsuario().pipe(O(r=>this._generalService.SaveClickBannerOtros(b,this.BannerFijoWeb.id,this.BannerFijoWeb.empresa,r,"fijo",i))).subscribe()}cargaBannerSplash(){!this.isBannerSplashMovilVisible&&this.banner_splash.id==0&&!this.primeraLlamadaWeb?this._homeService.getBannerSplashHome(b,"web").subscribe(i=>{if(i.success){let r=i.data;this.banner_splash.id=r.id,this.banner_splash.banner=r.banner,this.banner_splash.empresa=r.empresa,this.banner_splash.link=r.link,this.banner_splash.idVimeo=r.idVimeo,r.idVimeo==""?(this.banner_splash.tipo="imagen",this.tipoModalSplah="imagen"):(this.banner_splash.tipo="video",this.tipoModalSplah="video"),this.banner_splash.id!=0&&(this.isModalVisible=!0),this.primeraLlamadaWeb=!0}}):this.isBannerSplashMovilVisible&&this.bannerSplashMovil.id==0&&!this.primeraLlamadaMovil&&this._homeService.getBannerSplashHome(b,"movil").subscribe(i=>{if(i.success){let r=i.data;this.bannerSplashMovil.id=r.id,this.bannerSplashMovil.banner=r.banner,this.bannerSplashMovil.empresa=r.empresa,this.bannerSplashMovil.link=r.link,this.bannerSplashMovil.idVimeo=r.idVimeo,r.idVimeo==""?(this.bannerSplashMovil.tipo="imagen",this.tipoModalSplah="imagen"):(this.bannerSplashMovil.tipo="video",this.tipoModalSplah="video"),this.bannerSplashMovil.id!=0&&(this.isModalVisible=!0),this.primeraLlamadaMovil=!0}})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=H({type:e,selectors:[["app-home"]],standalone:!0,features:[E],decls:56,vars:22,consts:[[3,"seccion","datos","tipo"],[1,"page","m-0-auto","mt-2","d-flex","justify-content-center","gap-2"],[1,"col-main"],[3,"seccion","tipo","datos"],[3,"seccion","tipo","tipoBanner","datos"],[1,"col-banners","d-flex","flex-column","gap-2"],[1,"banner-fijo"],[3,"show_modal"],[3,"banner"],[2,"height","17px","width","100%"],[2,"height","367px","width","100%"],[2,"height","575px","width","100%"],[2,"height","663px","width","100%"],[2,"height","310px","width","100%"],[2,"height","370px","width","100%"],[2,"height","500px","width","100%"],[2,"width","300px","height","500px"],[1,"banner-fijo",3,"click"],["target","_blank",1,"banner_click",3,"href","id"],["loading","lazy","alt","banner fijo","width","auto","height","auto",3,"src"],[2,"height","700px","width","100%"]],template:function(r,s){r&1&&(p(0,Z,2,2),v(1,0,U),c(3,"section"),p(4,$,1,3,"app-banner",0)(5,ee,1,3),u(),c(6,"section")(7,"div",1)(8,"div",2),p(9,ne,4,0)(10,oe,1,0)(11,ae,1,0),v(12,10,q,null,11),D(0,-1),p(14,se,2,3,"section")(15,re,1,0)(16,le,1,0),v(17,15,R,null,16),D(0,-1),c(19,"section"),p(20,me,1,3,"app-banner",3)(21,pe,1,3),u(),p(22,he,1,0)(23,_e,1,0),v(24,22,G,null,23),D(0,-1),c(26,"section"),p(27,ce,1,4,"app-banner",4)(28,de,1,3),u(),p(29,fe,1,0)(30,ue,1,0),v(31,29,A,null,30),D(0,-1),c(33,"section"),p(34,be,1,3,"app-banner",3)(35,ve,1,3),u(),p(36,De,1,0)(37,Be,1,0),v(38,36,J,null,37),D(0,-1),c(40,"section"),p(41,Ce,1,3,"app-banner",3)(42,Oe,1,3),u(),p(43,xe,1,0)(44,ge,1,0),v(45,43,K,null,44),D(0,-1),p(47,Me,2,3,"section"),u(),c(48,"div",5),n(49,"app-banner",3)(50,"app-banner",3),p(51,Ve,4,0)(52,we,3,3,"div",6)(53,Te,1,0,"app-iframe-instagram"),n(54,"app-banner",3),p(55,Ee,4,0),u()()()),r&2&&(l(),T(s.show_modal()),l(3),_(4,s.isBannerMovilVisible?4:5),l(5),_(9,s.is_movil()?-1:9),l(5),_(14,s.isBannerMovilVisible?14:-1),l(6),_(20,s.isBannerMovilVisible?20:21),l(7),_(27,s.isBannerMovilVisible?27:28),l(7),_(34,s.isBannerMovilVisible?34:35),l(7),_(41,s.isBannerMovilVisible?41:42),l(6),_(47,s.isBannerMovilVisible?47:-1),l(2),m("seccion","home")("tipo","cuadrado")("datos",s.BD2),l(),m("seccion","home")("tipo","cuadrado")("datos",s.BD3),l(),_(51,s.is_movil()?-1:51),l(),_(52,s.BannerFijoWeb.id!=0?52:-1),l(),_(53,s.is_movil()?-1:53),l(),m("seccion","home")("tipo","cuadrado")("datos",s.BO2),l(),_(55,s.is_movil()?-1:55))},dependencies:[y,W]})}}return e})();export{Ke as default};
