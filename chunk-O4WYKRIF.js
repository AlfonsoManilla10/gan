import{a as ce}from"./chunk-LFWJT4SO.js";import{a as se}from"./chunk-SMTHFKF7.js";import{a as le}from"./chunk-OPO3KT7X.js";import"./chunk-ZV2R3LMA.js";import"./chunk-TOZGBBW3.js";import{h as oe,i as re}from"./chunk-B2E53Q3J.js";import{d as ne}from"./chunk-ARH7HIPE.js";import{H as te,V as ie}from"./chunk-KPZBUCCV.js";import{a as ae}from"./chunk-MO4VOJ6B.js";import{a as y}from"./chunk-QR7RS26O.js";import{b as ee}from"./chunk-HCO6HHKT.js";import"./chunk-RGXTWLH4.js";import{k as X,v as Y,w as Z}from"./chunk-VIKG75FC.js";import{$b as h,Db as b,Eb as _,Ka as k,Kb as F,La as N,Lb as U,Ma as O,Mb as D,N as q,Pb as d,Qa as i,Qb as j,Rb as P,Z as g,Zb as J,_a as v,cc as w,da as z,dc as K,eb as f,ec as M,fb as V,gb as A,hb as $,jb as c,ma as C,na as x,pb as u,rb as B,sb as Q,tb as R,ub as r,vb as a,wb as l,xb as G,yb as W,zb as E}from"./chunk-COZJJN5U.js";var fe=["general"],ge=["programa"],he=["contacto"],me=()=>[import("./chunk-6MKU2Y6A.js").then(t=>t.CartaSmallEventoComponent)],S=t=>({active:t}),_e=t=>({visible:t});function Ce(t,s){if(t&1&&l(0,"img",29),t&2){let e=_(2);c("src",e.evento().portada,N)("alt",e.evento().titulo)}}function xe(t,s){t&1&&l(0,"div",30)}function be(t,s){if(t&1){let e=E();r(0,"a",24),b("click",function(){C(e);let o=_(2);return x(o.cambiarVista("programa"))}),d(1,"Programa"),a()}if(t&2){let e=_(2);c("ngClass",h(1,S,e.is_programa_visible()))}}function Ee(t,s){if(t&1){let e=E();r(0,"a",24),b("click",function(){C(e);let o=_(2);return x(o.cambiarVista("contacto"))}),d(1,"Contacto"),a()}if(t&2){let e=_(2);c("ngClass",h(1,S,e.is_contacto_visible()))}}function we(t,s){if(t&1&&(l(0,"div",26,0),w(2,"safeUrlPipe")),t&2){let e=_(2);c("innerHtml",M(2,1,e.evento().general,"html"),k)}}function ye(t,s){if(t&1&&(l(0,"div",27,1),w(2,"safeUrlPipe")),t&2){let e=_(2);c("innerHtml",M(2,1,e.evento().programa,"html"),k)}}function Se(t,s){if(t&1&&(r(0,"div",28,2),l(2,"app-form-contacto",31),a()),t&2){let e=_(2);i(2),c("tipo","eventos")("action_recaptcha","contacto_evento")("id_elemento",e.evento().id)}}function Te(t,s){if(t&1&&(G(0),r(1,"div",32),d(2," UBICACI\xD3N "),a(),l(3,"iframe",33),w(4,"safeUrlPipe"),W()),t&2){let e=_(2);i(3),c("src",M(4,1,"https://maps.google.com/maps?&q="+e.evento().coordenadas+"&output=embed","resourceUrl"),O)}}function Ie(t,s){if(t&1){let e=E();r(0,"div",3)(1,"div",5),l(2,"h1",6),r(3,"ul",7)(4,"li"),l(5,"span",8),d(6),w(7,"number"),a()()(),r(8,"div",9)(9,"div",10),f(10,Ce,1,2)(11,xe,1,0),V(12,10,null,null,11),r(14,"div",11),l(15,"span",12),r(16,"p",13),d(17,"Eventos"),a()()(),r(18,"ul",14)(19,"li",15)(20,"div",16)(21,"span",17),d(22),a(),d(23),a(),r(24,"p"),d(25),a()(),r(26,"li",15)(27,"div",18),l(28,"span",19),a(),r(29,"p"),d(30),a()()()(),r(31,"div",20),l(32,"app-links-redes",21),r(33,"div",22)(34,"div",23)(35,"a",24),b("click",function(){C(e);let o=_();return x(o.cambiarVista("general"))}),d(36,"General"),a(),f(37,be,2,3,"a",25)(38,Ee,2,3,"a",25),a(),f(39,we,3,4,"div",26)(40,ye,3,4,"div",27)(41,Se,3,3,"div",28)(42,Te,5,4,"ng-container"),a()()()}if(t&2){let e=_();i(2),c("innerHTML",e.evento().titulo,k),i(4),P(" ",K(7,16,e.evento().visitas)," "),i(6),A(e.evento().portada!=""),i(10),j(e.evento().dia),i(),P(" ",e.evento().diaSemana," "),i(2),j(e.evento().fecha),i(5),P(" ",e.evento().ubicacion," "),i(2),c("cargando",e.is_load_informacion())("id_fragment",e.fragment()),i(3),c("ngClass",h(18,S,e.is_general_visible())),i(2),u(37,e.evento().programa?37:-1),i(),u(38,e.evento().contacto==1?38:-1),i(),u(39,e.is_general_visible()?39:-1),i(),u(40,e.is_programa_visible()?40:-1),i(),u(41,e.is_contacto_visible()?41:-1),i(),u(42,e.evento().ubicacion!="Virtual"&&e.evento().coordenadas&&e.evento().coordenadas.trim()!=","?42:-1)}}function ke(t,s){if(t&1&&l(0,"app-carta-small-evento",42),t&2){let e=_(2).$implicit;c("background","bg-c-gray-light-2")("evento2",e)}}function Ve(t,s){t&1&&l(0,"div",43)}function Fe(t,s){t&1&&(f(0,ke,1,2)(1,Ve,1,0),V(2,0,me,null,1),$(0,-1))}function Ue(t,s){if(t&1&&f(0,Fe,4,0),t&2){let e=s.$index;u(0,e<=3?0:-1)}}function De(t,s){if(t&1&&l(0,"app-carta-small-evento",42),t&2){let e=_(2).$implicit;c("background","bg-c-gray-light-2")("evento2",e)}}function Pe(t,s){t&1&&l(0,"div",43)}function Me(t,s){t&1&&(f(0,De,1,2)(1,Pe,1,0),V(2,0,me,null,1),$(0,-1))}function He(t,s){if(t&1&&f(0,Me,4,0),t&2){let e=s.$index;u(0,e>=4?0:-1)}}function Le(t,s){if(t&1){let e=E();r(0,"div",4)(1,"div",34)(2,"p",13),d(3,"Eventos "),l(4,"span",35),a()(),l(5,"hr",36),r(6,"div",37)(7,"div",38),Q(8,Ue,1,1,null,null,B),a(),r(10,"div",39),Q(11,He,1,1,null,null,B),a(),r(13,"ul",40)(14,"li",41),b("click",function(){C(e);let o=_();return x(o.cambiaCarr())}),a(),r(15,"li",41),b("click",function(){C(e);let o=_();return x(o.cambiaCarr())}),a()()()()}if(t&2){let e=_();i(7),c("ngClass",h(4,_e,e.arr_slide_carr()[0])),i(),R(e.arr_eventos()),i(2),c("ngClass",h(6,_e,e.arr_slide_carr()[1])),i(),R(e.arr_eventos()),i(3),c("ngClass",h(8,S,e.arr_slide_carr()[0])),i(),c("ngClass",h(10,S,e.arr_slide_carr()[1]))}}var H=y.division,Ye=(()=>{class t{constructor(){this.is_general_visible=v(!0),this.is_programa_visible=v(!1),this.is_contacto_visible=v(!1),this.fragment=v(""),this.is_load_informacion=v(!1),this.is_borrador=v(!1),this.evento=v({id:0,division:0,id_empresa:0,titulo:"",visitas:0,url_amigable:"",fecha:"",dia:"",diaSemana:"",ubicacion:"",coordenadas:"",programa:"",general:"",portada:"",extracto:"",fechai:"",fechat:"",contacto:0}),this.arr_eventos=v([]),this.arr_slide_carr=v([!0,!1]),this.ruta_actual=v(""),this._general_service=g(ne),this._eventos_service=g(ce),this._activated_route=g(te),this._title=g(ee),this._router=g(ie),this._loginService=g(oe),this._usuarioService=g(re),this._general_service.$paginaLoader.emit(!0),this._activated_route.params.subscribe(e=>{window.scrollTo(0,0);let n=this._router.url,o=null,p=null,pe=this._activated_route.snapshot.url[0].path,T=n.split("#"),I=T[0];if(T.length>1){let m=T[0].split("?"),L=T[1],ve=m.slice(1,m.length).join("&"),ue=new URLSearchParams(ve);o=L,p=ue.get("tokenmailchimp"),I=m[0]+`#${L}`}else I=n.split("?")[0],p=this._router.parseUrl(this._router.url).queryParamMap.get("tokenmailchimp");let de=y.url_sitio;this.ruta_actual.set(de+I),p!=null?(this.loginMailchimp(p,I),o!=null&&setTimeout(()=>{location.reload()},1e3)):(o!=null&&(this.cambiarVista(o),setTimeout(()=>{switch(o){case"programa":window.scrollTo(0,this.programa.nativeElement.offsetTop+100);break;case"contacto":window.scrollTo(0,this.contacto.nativeElement.offsetTop+100);break;case"general":window.scrollTo(0,this.general.nativeElement.offsetTop+100);break;default:break}},1e3)),pe!="evento-borrador"?this._eventos_service.getEvento(H,e["url-amigable"]).subscribe(m=>{m.success&&m.data.length!=0?(this.is_load_informacion.set(!0),this.evento.set(m.data[0]),this._title.setTitle(this.evento().titulo),this.saveVisita()):this._router.navigate(["/eventos"])},m=>{},()=>{this._general_service.$paginaLoader.emit(!1)}):(this.is_borrador.set(!0),this._eventos_service.getEventoBorrador(H,e["url-amigable"]).subscribe({next:m=>{m.success&&m.data.length!=0?(this.is_load_informacion.set(!0),this.evento.set(m.data[0]),this._title.setTitle(this.evento().titulo)):this._router.navigate(["/eventos"])},error:()=>{},complete:()=>{this._general_service.$paginaLoader.emit(!1)}})),this._eventos_service.getEventos(H,0,7).subscribe(m=>{m.success&&this.arr_eventos.set(m.data)}))})}ngOnInit(){}saveVisita(){!this.is_borrador()&&y.production&&!y.isSandbox&&this._usuarioService.getUserService().pipe(q(e=>(this.evento().visitas++,this._eventos_service.saveVisita(Number(this.evento().id),Number(this.evento().id_empresa),H,e.id)))).subscribe()}loginMailchimp(e,n){this._loginService.existLogin().subscribe(o=>{o?this._router.navigate(["/"+n]):this._loginService.loginMailchimp(e).subscribe(p=>{p.success&&(this._loginService.$_login_mailchimp.emit(!0),this._usuarioService.setToken(p.data.token),this._usuarioService.saveUser(p.data)),this._router.navigate(["/"+n])})})}cambiaCarr(){this.arr_slide_carr.update(e=>(e[0]=!e[0],e[1]=!e[1],e))}cambiarVista(e){this.is_general_visible.set(!1),this.is_programa_visible.set(!1),this.is_contacto_visible.set(!1),e=="general"?(this.is_general_visible.update(n=>!n),this.fragment.set("")):e=="programa"?(this.is_programa_visible.update(n=>!n),this.fragment.set("programa")):e=="contacto"&&(this.is_contacto_visible.update(n=>!n),this.fragment.set("contacto"))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=z({type:t,selectors:[["app-eventos-interior"]],viewQuery:function(n,o){if(n&1&&(F(fe,5),F(ge,5),F(he,5)),n&2){let p;U(p=D())&&(o.general=p.first),U(p=D())&&(o.programa=p.first),U(p=D())&&(o.contacto=p.first)}},standalone:!0,features:[J],decls:2,vars:2,consts:[["general",""],["programa",""],["contacto",""],[1,"cont-nota"],[1,"cont-carr-eventos","bg-i-rayas","mt-2","p-1"],[1,"nota-top","p-1","pb-0","bg-c-white"],[1,"titulo","mb-1","text-c-dark",3,"innerHTML"],[1,"nota-info","list-none","p-0","d-flex","flex-wrap","align-items-center"],[1,"icon-pec-vistas"],[1,"evento-imagen"],[1,"evento-imagen--top","pos-relative","overflow-hidden"],[1,"evento-imagen--top--seccion","pos-absolute","d-flex","align-items-center","gap-0_5"],[1,"icon-pec-articulo"],[1,"text-upcase"],[1,"evento-imagen--footer","bg-c-white","p-0","w-100"],[1,"d-flex","gap-1","w-100","mb-0"],[1,"cuadro-fecha","d-flex","align-items-center","justify-content-center","flex-column","text-c-white","text-upcase"],[1,"dia"],[1,"cuadro-lugar","d-flex","align-items-center","justify-content-center","flex-column","text-c-white","text-upcase"],[1,"icon-pec-marcador"],[1,"nota-body"],[3,"cargando","id_fragment"],[1,"cont-evento-general","bg-c-white","text-c-dark"],[1,"cont-evento-general-top"],["href","javascript:;",3,"click","ngClass"],["href","javascript:;",3,"ngClass"],["id","general",3,"innerHtml"],["id","programa",3,"innerHtml"],["id","contacto"],[1,"pos-absolute","w-100","h-100",3,"src","alt"],[2,"padding-top","56%","width","100%"],[3,"tipo","action_recaptcha","id_elemento"],[1,"mt-1","p-1","text-c-white","text-upcase","ff-sans-condensed","bg-c-site","lh-1_1","fw-700","fsz-small"],["title","Ubicaci\xF3n evento","width","100%","height","350","frameborder","0","scrolling","no","marginheight","0","marginwidth","0","allow","autoplay; fullscreen; picture-in-picture","yallowfullscreen","",3,"src"],[1,"cont-carr-eventos--top"],[1,"icon-pec-plus-circle"],[1,"separador-linea-contenido"],[1,"carr-evento","pos-relative"],[1,"slide-1",3,"ngClass"],[1,"slide-2",3,"ngClass"],[1,"indicadores-carr-evento","list-none","d-flex","justify-content-center","mt-2","p-0"],[1,"cursor-pointer",3,"click","ngClass"],[3,"background","evento2"],[2,"height","68px"]],template:function(n,o){n&1&&f(0,Ie,43,20,"div",3)(1,Le,16,12,"div",4),n&2&&(u(0,o.evento().id!=0?0:-1),i(),u(1,o.evento().id!=0?1:-1))},dependencies:[le,ae,se,Z,X,Y]})}}return t})();export{Ye as default};
