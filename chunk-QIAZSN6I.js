import{a as R}from"./chunk-LFWJT4SO.js";import{a as re}from"./chunk-RLZTNQMB.js";import{a as se}from"./chunk-ZV55WRZB.js";import{b as te,d as ie,g as ne,u as oe}from"./chunk-TOZGBBW3.js";import"./chunk-B2E53Q3J.js";import{d as ae}from"./chunk-ARH7HIPE.js";import{W as z,na as N}from"./chunk-KPZBUCCV.js";import{a as B}from"./chunk-QR7RS26O.js";import"./chunk-HCO6HHKT.js";import"./chunk-RGXTWLH4.js";import{u as ee,w as y}from"./chunk-VIKG75FC.js";import{$b as F,Db as g,Eb as u,Ib as D,Kb as U,La as L,Lb as G,Mb as H,Oa as q,Pb as r,Qa as s,Qb as v,Rb as E,Vb as X,Wb as Y,Xb as J,Z as O,Zb as C,_a as p,ca as P,cc as K,da as b,eb as M,ec as Z,jb as l,ma as f,na as h,pb as I,qb as S,sa as j,sb as w,tb as k,ua as W,ub as o,vb as a,wb as c,zb as T}from"./chunk-COZJJN5U.js";var ce=n=>[n],le=(()=>{class n{constructor(){this.evento=j({id:0,division:0,titulo:"",extracto:"",url_amigable:"",fecha:"",dia:"",diaSemana:"",mes:"",destacado:0,ubicacion:"",portada:""})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=b({type:n,selectors:[["app-carta-evento-destacado"]],inputs:{evento:[P.SignalBased,"evento"]},standalone:!0,features:[C],decls:35,vars:14,consts:[[1,"carta-contenido-destacado","bg-c-white"],[1,"carta-contenido--top","pos-relative","cursor-pointer"],[1,"carta-contenido--top--overlayer","pos-absolute","z-index-1","w-100","h-100","top-0","left-0","d-flex","justify-content-center","align-items-center","flex-column","gap-1",3,"routerLink"],[1,"icon-pec-circulo-flecha"],[1,"text-c-white","text-upcase","ff-sans-condensed","fw-700"],[1,"pos-absolute","top-0","left-0","w-100","h-100",3,"src","alt"],[1,"carta-contenido--top--seccion","pos-absolute","left-0","z-index-3","text-c-white","bg-c-dark-gray","d-flex","align-items-center","pt-0_5","pb-0_5","pl-1","pr-1"],[1,"icon-pec-carta-calendario"],[1,"text-upcase","ff-sans-condensed","fw-700"],[1,"carta-contenido--top--destacado","pos-absolute","top-0","right-0","z-index-3"],["src","./assets/images/contenido-destacado.png","alt","indicador destacado","width","70","height","70"],[1,"carta-contenido--body"],[1,"title","ff-sans-condensed","fw-600","text-c-dark-gray","lh-1_2",3,"routerLink"],[1,"cut-text","cut-3","mb-1","text-c-text-dark-gray","fw-normal"],[1,"carta-contenido--footer","text-c-text-dark-gray","d-flex","gap-0_5","justify-content-space-between","align-items-center"],[1,"carta-contenido--footer--info-evento","d-flex","gap-1","w-100","p-0"],[1,"d-flex","gap-1","align-items-center","w-100","mb-0"],[1,"cuadro-fecha","bg-c-gray","d-flex","align-items-center","justify-content-center","flex-column","text-upcase"],[1,"dia"],[1,"text-c-text-dark-gray"],[1,"cuadro-lugar","bg-c-gray","d-flex","align-items-center","justify-content-center","flex-column"],[1,"icon-pec-marcador"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"div",1)(2,"a",2),c(3,"span",3),o(4,"span",4),r(5,"Saber m\xE1s"),a()(),c(6,"img",5),o(7,"div",6),c(8,"span",7),o(9,"p",8),r(10,"Eventos"),a()(),o(11,"div",9),c(12,"img",10),a()(),o(13,"div",11)(14,"a",12),r(15),a(),c(16,"hr"),o(17,"p",13),r(18),a()(),o(19,"div",14)(20,"ul",15)(21,"li",16)(22,"div",17)(23,"span",18),r(24),a(),r(25),a(),o(26,"p",19)(27,"i"),r(28),a()()(),o(29,"li",16)(30,"div",20),c(31,"span",21),a(),o(32,"p",19)(33,"i"),r(34),a()()()()()()),i&2&&(s(2),l("routerLink",F(10,ce,"/evento/"+t.evento().url_amigable)),s(4),l("src",t.evento().portada,L)("alt",t.evento().titulo),s(8),l("routerLink",F(12,ce,"/evento/"+t.evento().url_amigable)),s(),E(" ",t.evento().titulo," "),s(3),E(" ",t.evento().extracto," "),s(6),v(t.evento().dia),s(),E(" ",t.evento().diaSemana," "),s(3),v(t.evento().fecha),s(6),v(t.evento().ubicacion))},dependencies:[y,N,z],changeDetection:0})}}return n})();var Q=n=>[n],de=(()=>{class n{constructor(){this.evento=j({id:0,division:0,titulo:"",extracto:"",url_amigable:"",fecha:"",dia:"",mes:"",diaSemana:"",destacado:0,ubicacion:"",portada:""}),this.login=p(!1)}openModal(e){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=b({type:n,selectors:[["app-carta-nota-evento"]],inputs:{evento:[P.SignalBased,"evento"]},standalone:!0,features:[C],decls:24,vars:14,consts:[[1,"carta-contenido","bg-c-white","fade-in"],[1,"carta-contenido--top","pos-relative","cursor-pointer"],[1,"carta-contenido--top--overlayer","pos-absolute","z-index-1","w-100","h-100","top-0","left-0","d-flex","justify-content-center","align-items-center","flex-column","gap-1",3,"routerLink"],[1,"icon-pec-circulo-flecha"],[1,"text-c-white","text-upcase","ff-sans-condensed","fw-700"],["loading","lazy",1,"pos-absolute","top-0","left-0","w-100","h-100",3,"src","alt"],[1,"carta-contenido--top--seccion","pos-absolute","left-0","z-index-3","text-c-white","bg-c-dark-gray","d-flex","align-items-center","pt-0_5","pb-0_5","pl-1","pr-1"],[1,"icon-pec-carta-calendario"],[1,"carta-contenido--body"],[1,"cut-text","cut-2","ff-sans-condensed","fw-600","text-c-dark-gray","lh-1_2","mb-1",3,"routerLink"],[1,"cut-text","cut-3","mb-2","text-c-text-dark-gray","fw-normal"],[1,"carta-contenido--footer","d-flex","justify-content-space-between","align-items-center","gap-1","bg-c-extra-light-gray"],[1,"pl-1","w-100"],[1,"fecha","cut-text","cut-1","d-flex","align-items-center","m-0"],[1,"text-c-text-dark-gray","ff-sans-condensed"],[1,"carta-contenido--footer--enlace","bg-c-gray"],[3,"routerLink"],[1,"carta-contenido--footer--enlace-cuadro","d-flex","justify-content-center","align-items-center"],[1,"icon-pec-arrow"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"div",1)(2,"a",2),c(3,"span",3),o(4,"span",4),r(5,"Saber m\xE1s"),a()(),c(6,"img",5),o(7,"div",6),c(8,"span",7),a()(),o(9,"div",8)(10,"a",9)(11,"strong"),r(12),a()(),o(13,"p",10),r(14),a()(),o(15,"div",11)(16,"div",12)(17,"p",13)(18,"i",14),r(19),a()()(),o(20,"div",15)(21,"a",16)(22,"div",17),c(23,"span",18),a()()()()()),i&2&&(s(2),l("routerLink",F(8,Q,"/evento/"+t.evento().url_amigable)),s(4),l("src",t.evento().portada,L)("alt",t.evento().titulo),s(4),l("routerLink",F(10,Q,"/evento/"+t.evento().url_amigable)),s(2),E(" ",t.evento().titulo," "),s(2),E(" ",t.evento().extracto," "),s(5),E(" ",t.evento().fecha,""),s(2),l("routerLink",F(12,Q,"/evento/"+t.evento().url_amigable)))},dependencies:[y,N,z],styles:[".carta-contenido[_ngcontent-%COMP%]   .carta-contenido--body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:40px;font-size:16px}.carta-contenido[_ngcontent-%COMP%]   .carta-contenido--body[_ngcontent-%COMP%]   .fecha[_ngcontent-%COMP%]{height:30px}.carta-contenido[_ngcontent-%COMP%]   .fecha[_ngcontent-%COMP%]{font-size:15px}"],changeDetection:0})}}return n})();function ue(n,m){if(n&1){let e=T();o(0,"li",6)(1,"input",14),g("click",function(){let t=f(e).$implicit,d=u(2);return h(d.updateFiltros("paises",t.id))}),a(),o(2,"label",15),r(3),a()()}if(n&2){let e=m.$implicit,i=u(2);s(),D("id","id_cat-",e.id,""),l("checked",i.paises_seleccionados.includes(e.id)?"checked":""),s(),D("for","id_cat-",e.id,""),s(),v(e.nombre)}}function ve(n,m){if(n&1){let e=T();o(0,"li",6)(1,"input",17),g("click",function(){let t=f(e).$implicit,d=u(3);return h(d.updateFiltros("estados",t.id))}),a(),o(2,"label",15),r(3),a()()}if(n&2){let e=m.$implicit,i=u(3);s(),D("id","ce-",e.id,""),l("checked",i.estados_seleccionados.includes(e.id)?"checked":""),s(),D("for","ce-",e.id,""),s(),v(e.nombre)}}function fe(n,m){if(n&1&&(o(0,"label",16),r(1),a(),w(2,ve,4,6,"li",6,S)),n&2){let e=m.$implicit;s(),v(e.nombre_pais),s(),k(e.estados)}}function he(n,m){if(n&1){let e=T();o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),r(4,"Paises"),a(),c(5,"hr",4),o(6,"ul",5),w(7,ue,4,6,"li",6,S),a()(),o(9,"div",2)(10,"h4",3),r(11,"Estados"),a(),c(12,"hr",4),o(13,"ul",5),w(14,fe,4,1,null,null,S),a()()(),o(16,"div",7)(17,"div",8)(18,"div",9)(19,"input",10),J("ngModelChange",function(t){f(e);let d=u();return Y(d.palabra_buscada,t)||(d.palabra_buscada=t),h(t)}),g("keyup",function(){f(e);let t=u();return h(t.updateFiltros("",0))}),a(),c(20,"button",11),a()(),o(21,"div",12)(22,"i")(23,"span",13),r(24),K(25,"i18nPlural"),a()()()()()}if(n&2){let e=u();s(7),k(e.arr_paises),s(7),k(e.arr_estados),s(5),X("ngModel",e.palabra_buscada),s(5),v(Z(25,2,e.numero_resultados,e.mapaPlural))}}var pe=B.division,me=(()=>{class n{constructor(){this._eventosService=O(R),this.numero_resultados=0,this.onFiltros=new W,this.is_filtro_visible=p(!1),this.arr_paises=[],this.arr_estados=[],this.paises_seleccionados=[],this.estados_seleccionados=[],this.palabra_buscada="",this.mapaPlural={"=0":"0 resultados encontrados.","=1":"1 resultado encontrado.",other:"# resultados encontrados."},this._eventosService.getFiltrosEventos(pe,this.paises_seleccionados.join(",")).subscribe(e=>{e.success&&(this.arr_paises=e.data.paises,this.arr_estados=e.data.estados)})}updateFiltros(e,i){switch(e){case"paises":this.paises_seleccionados.includes(i)?this.paises_seleccionados.splice(this.paises_seleccionados.indexOf(i),1):this.paises_seleccionados.push(i);break;case"estados":this.estados_seleccionados.includes(i)?this.estados_seleccionados.splice(this.estados_seleccionados.indexOf(i),1):this.estados_seleccionados.push(i);break}this._eventosService.getFiltrosEventos(pe,this.paises_seleccionados.join(",")).subscribe(t=>{t.success&&(this.arr_paises=t.data.paises,this.arr_estados=t.data.estados,this.numero_resultados=t.data.total)}),this.onFiltros.emit({paises_seleccionados:this.paises_seleccionados,estados_seleccionados:this.estados_seleccionados,palabra_buscada:this.palabra_buscada})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=b({type:n,selectors:[["app-filtro-eventos"]],inputs:{numero_resultados:"numero_resultados",is_filtro_visible:"is_filtro_visible"},outputs:{onFiltros:"onFiltros"},standalone:!0,features:[C],decls:1,vars:1,consts:[[1,"cont-filtro-principal","pt-1","pb-1","mb-1"],[1,"filtro-general","d-flex","flex-wrap","w-100"],[1,"filtro-col","w-100","p-0","mt-1"],[1,"titulo-filtro","ff-sans-condensed","text-c-dark-gray","pr-2","pl-2"],[1,"separador-filtro","mt-1_5","mb-1_5","ml-2","mr-2","bg-c-site"],[1,"lista-elementos-filtro","pl-2","pr-2"],[2,"display","block"],[1,"filtro-buscador","d-flex","gap-1","flex-wrap","w-100","mt-2","mb-1","pr-2","pl-2"],[1,"filtro-form","flex-grow-3"],[1,"filtro-form-grupo","d-flex","align-items-center"],["type","text","name","palabra_buscada",1,"bor-rad-15","w-100","pl-1_5","pr-1_5",3,"ngModelChange","keyup","ngModel"],["type","submit",1,"icon-pec-lupa","bor-rad-15","pos-relative","bg-c-gray"],[1,"filtro-num-result","d-flex","align-items-center","flex-grow-1"],["id","num-res-filtro",1,"pos-relative","pl-1_5","fw-lighter"],["type","checkbox",1,"check_categoria",3,"click","checked","id"],[1,"fw-bold","pos-relative",3,"for"],[1,"titulo-categoria","text-c-site","fw-bold"],["type","checkbox",1,"check_empresa",3,"click","checked","id"]],template:function(i,t){i&1&&M(0,he,26,5,"div",0),i&2&&I(0,t.is_filtro_visible()?0:-1)},dependencies:[y,ee,oe,te,ie,ne],encapsulation:2})}}return n})();var ge=["contEventos"];function xe(n,m){if(n&1&&(o(0,"h2",4),r(1),a()),n&2){let e=u();s(),v(e.description())}}function be(n,m){n&1&&c(0,"div",18)}function Ee(n,m){if(n&1&&c(0,"app-carta-evento-destacado",8),n&2){let e=u();l("evento",e.evento_destacado)}}function Ce(n,m){if(n&1&&c(0,"app-carta-nota-evento",8),n&2){let e=m.$implicit;l("evento",e)}}function ye(n,m){n&1&&c(0,"app-msg-sin-contenido")}function Se(n,m){if(n&1&&c(0,"app-carta-small-evento",15),n&2){let e=m.$implicit;l("background","bg-c-white")("evento",e)}}var x=B.division,st=(()=>{class n{constructor(){this._generalService=O(ae),this._eventosService=O(R),this.description=p(""),this.is_filtro_visible=p(!1),this.cargando_datos=p(!1),this.filtro_activo=p(!1),this.total_eventos=p(0),this.index_mas_eventos=p(0),this.index_eventos=p(0),this.evento_destacado={id:0,division:0,titulo:"",extracto:"",url_amigable:"",fecha:"",dia:"",diaSemana:"",mes:"",destacado:0,ubicacion:"",portada:""},this.arr_eventos=p([]),this.arr_mas_eventos=p([]),this.numero_resultados=p(0),this.paises_seleccionados=[],this.estados_seleccionados=[],this.palabra_buscada="",this.scroll=e=>{let i=window.scrollY,t=this.contEventos.nativeElement.offsetHeight,d=this.contEventos.nativeElement.offsetTop,V=t+d-500;i>V&&!this.cargando_datos()&&this.arr_eventos().length<this.total_eventos()&&(this.index_eventos.update(_=>_+1),this.cargando_datos.set(!0),this.is_filtro_visible()?this._eventosService.getEventosxFiltro(x,this.index_eventos(),6,this.paises_seleccionados.join(","),this.estados_seleccionados.join(","),this.palabra_buscada).subscribe(_=>{_.success&&(this.arr_eventos.update($=>[...$,..._.data.eventos]),this.numero_resultados.set(_.data.total))}):this._eventosService.getEventos(x,this.index_eventos(),6).subscribe(_=>{_.success&&this.arr_eventos.update($=>[...$,..._.data])}),setTimeout(()=>{this.cargando_datos.set(!1)},1e3))},this._generalService.getMetas("eventos","evento",x).subscribe({next:({data:e})=>this.description.set(e.description)})}ngOnInit(){this._eventosService.getTotalEventos(x).subscribe(e=>{e.success&&this.total_eventos.set(e.data[0].total)}),this._eventosService.getEventos(x,this.index_eventos(),6).subscribe(e=>{if(e.success){let i=e.data;i[0].destacado!=0&&(this.evento_destacado=i[0],i.splice(0,1)),this.arr_eventos.set(i)}}),this._eventosService.getMasEventos(x,this.index_mas_eventos(),4).subscribe(e=>{e.success&&this.arr_mas_eventos.set(e.data)})}toggelFiltro(){this.is_filtro_visible.update(e=>!e),this.is_filtro_visible()||(this.index_eventos.set(0),this._eventosService.getEventos(x,this.index_eventos(),6).subscribe(e=>{if(e.success){let i=e.data;i[0].destacado!=0&&(this.evento_destacado=i[0],i.splice(0,1),this.cargando_datos.set(!1)),this.arr_eventos.set(i)}}))}cargarEventosAnteriores(){this.index_mas_eventos.update(e=>e+1),this._eventosService.getMasEventos(x,this.index_mas_eventos(),4).subscribe(e=>{e.success&&this.arr_mas_eventos.update(i=>[...i,...e.data])})}busqueda_filtro(e){this.index_eventos.set(0),this.paises_seleccionados=e.paises_seleccionados,this.estados_seleccionados=e.estados_seleccionados,this.palabra_buscada=e.palabra_buscada,this._eventosService.getEventosxFiltro(x,this.index_eventos(),6,this.paises_seleccionados.join(","),this.estados_seleccionados.join(","),this.palabra_buscada).subscribe(i=>{i.success&&(this.filtro_activo.set(!0),this.arr_eventos.set([]),this.arr_eventos.update(t=>[...t,...i.data.eventos]),this.numero_resultados.set(i.data.total))})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=b({type:n,selectors:[["app-eventos"]],viewQuery:function(i,t){if(i&1&&U(ge,5),i&2){let d;G(d=H())&&(t.contEventos=d.first)}},standalone:!0,features:[C],decls:34,vars:5,consts:[["contEventos",""],[3,"scroll"],[1,"bg-c-site","d-flex","gap-1","justify-content-space-between","align-items-center","mb-1","p-1","pl-2","pr-2"],[1,"cont__title__section","text-upcase","text-c-white","ff-sans-condensed","lh-1_1","mb-0_5"],[1,"descripcion-pagina","text-c-white","fw-400"],[1,"cont-boton-filtro","text-c-white","text-upcase","cursor-pointer","flex-none",3,"click"],[1,"icon-pec-filtro"],[3,"onFiltros","numero_resultados","is_filtro_visible"],[3,"evento"],[1,"bg-c-site","p-1","mt-1","mb-1"],[1,"text-c-white","top__seccion","ff-sans-condensed","lh-1_1","fw-700"],[1,"cont-lista-cartas"],[1,"top__seccion","bg-c-site","p-1","mt-2"],[1,"text-c-white","ff-sans-condensed","fw-700"],[1,"cont-eventos-anteriores","gap-1","p-1","bg-i-rayas"],[3,"background","evento"],[1,"text-center","mt-2"],[1,"text-upcase","boton-circulo","bg-c-site","bor-rad-50",3,"click"],[2,"height","18.56px"]],template:function(i,t){if(i&1){let d=T();o(0,"section",1),g("scroll",function(_){return f(d),h(t.scroll(_))},!1,q),o(1,"div",2)(2,"div")(3,"h1",3),r(4,"Eventos"),a(),M(5,xe,2,1,"h2",4)(6,be,1,0),a(),o(7,"div",5),g("click",function(){return f(d),h(t.toggelFiltro())}),r(8," Filtrar "),c(9,"span",6),a()(),o(10,"section")(11,"app-filtro-eventos",7),g("onFiltros",function(_){return f(d),h(t.busqueda_filtro(_))}),a()(),o(12,"section"),M(13,Ee,1,1,"app-carta-evento-destacado",8),a(),o(14,"section",9)(15,"span",10),r(16,"PR\xD3XIMOS EVENTOS"),a()(),o(17,"section")(18,"div",11,0),w(20,Ce,1,1,"app-carta-nota-evento",8,S),a(),M(22,ye,1,0,"app-msg-sin-contenido"),a(),o(23,"section")(24,"div",12)(25,"span",13),r(26,"EVENTOS ANTERIORES"),a()(),o(27,"div",14),w(28,Se,1,2,"app-carta-small-evento",15,S),a(),o(30,"div",16)(31,"button",17),g("click",function(){return f(d),h(t.cargarEventosAnteriores())}),o(32,"span",13),r(33,"Cargar m\xE1s"),a()()()()()}i&2&&(s(5),I(5,t.description().trim().length!=0?5:6),s(6),l("numero_resultados",t.numero_resultados())("is_filtro_visible",t.is_filtro_visible),s(2),I(13,!t.is_filtro_visible()&&t.evento_destacado.id!=0?13:-1),s(7),k(t.arr_eventos()),s(2),I(22,t.total_eventos()==t.arr_eventos().length?22:-1),s(6),k(t.arr_mas_eventos()))},dependencies:[y,le,de,se,re,me],styles:[".cont-lista-cartas[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem}@media (min-width: 1024px){.cont-lista-cartas[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.cont-eventos-anteriores[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr))}"]})}}return n})();export{st as default};
