import{a as ae}from"./chunk-WKTYE2IN.js";import{a as ne}from"./chunk-SMTHFKF7.js";import{a as ie}from"./chunk-ZV55WRZB.js";import{a as te}from"./chunk-QOUIGL3R.js";import"./chunk-TOZGBBW3.js";import{d as Z}from"./chunk-B2E53Q3J.js";import{a as K,d as X}from"./chunk-ARH7HIPE.js";import{H as $,W as J}from"./chunk-KPZBUCCV.js";import{a as ee}from"./chunk-MO4VOJ6B.js";import{a as v}from"./chunk-QR7RS26O.js";import"./chunk-HCO6HHKT.js";import"./chunk-RGXTWLH4.js";import{v as W,w as Y}from"./chunk-VIKG75FC.js";import{$b as S,Db as B,Eb as _,Ka as b,Kb as R,La as k,Lb as D,Ma as V,Mb as Q,N as E,Oa as F,Pb as C,Qa as n,Rb as M,Z as f,Zb as G,_a as c,_b as j,cc as w,da as O,dc as q,eb as u,ec as N,jb as l,ma as L,na as H,pb as s,qb as I,sb as y,tb as T,ub as p,vb as d,wb as o,xb as h,yb as g,zb as U}from"./chunk-COZJJN5U.js";var se=["pageAlltech"],oe=e=>[e],ce=()=>[1,2,3,4,5,6,7,8];function pe(e,r){if(e&1&&o(0,"h1",4),e&2){let t=_();l("innerHTML",t.nota().titulo,b)}}function de(e,r){if(e&1&&(h(0),o(1,"span",15),C(2),g()),e&2){let t=_();n(2),M(" ",t.nota().fecha," ")}}function me(e,r){if(e&1&&(h(0),o(1,"span",16),C(2),w(3,"number"),g()),e&2){let t=_();n(2),M(" ",q(3,1,t.nota().visitas)," ")}}function ue(e,r){if(e&1&&(p(0,"div",8),o(1,"iframe",17),w(2,"safeUrlPipe"),d()),e&2){let t=_();n(),l("src",N(2,1,t.nota().video,"resourceUrl"),V)}}function _e(e,r){if(e&1&&(h(0),C(1),g()),e&2){let t=_(2);n(),M(" ",t.nota().colaborador[0].nombre," ")}}function he(e,r){if(e&1&&(p(0,"div",9)(1,"div",18)(2,"a",19)(3,"div",20),o(4,"img",21),d()()(),p(5,"div",22),C(6," Autor: "),o(7,"a",23),d(),u(8,_e,2,1,"ng-container"),d()),e&2){let t=_();n(2),l("routerLink",S(5,oe,"/autor/"+t.nota().autor[0].url_amigable)),n(2),l("src",t.url_secure+"autores/"+t.nota().autor[0].foto,k),n(3),l("routerLink",S(7,oe,"/autor/"+t.nota().autor[0].url_amigable))("innerHTML",t.nota().autor[0].nombre,b),n(),s(8,t.nota().colaborador.length>0?8:-1)}}function ge(e,r){if(e&1&&(o(0,"div",11),w(1,"safeUrlPipe")),e&2){let t=_();l("innerHTML",N(1,1,t.nota().body,"html"),b)}}function fe(e,r){e&1&&o(0,"app-carta-nota",24),e&2&&l("icon","alltech")("loading",!0)("url","/capsula-nutricional-alltech/")}function Ce(e,r){e&1&&(h(0),y(1,fe,1,3,"app-carta-nota",24,I),g()),e&2&&(n(),T(j(0,ce)))}function ve(e,r){if(e&1&&o(0,"app-carta-nota",25),e&2){let t=r.$implicit;l("icon","alltech")("magazine",t)("url","/capsula-nutricional-alltech/")("tipo","alltech")}}function xe(e,r){if(e&1&&(h(0),y(1,ve,1,4,"app-carta-nota",25,I),g()),e&2){let t=_();n(),T(t.visibles())}}function be(e,r){e&1&&o(0,"app-msg-sin-contenido")}var z=v.division,Ue=(()=>{class e{constructor(){this.url_secure=v.url_secure,this.visibles=c([]),this.indice=c(0),this.limite=c(8),this.constenido=c([]),this.mas_leido=c([]),this.carga_info_contenido=c(!1),this.cargando=c(!0),this.sin_contenido=c(!1),this.nota=c({id:0,exclusivo:!1,categoria:0,titulo:"",title:"",fuente:"",imagen_nota:!1,resource:{original:"",large:"",medium:"",small:""},video:"",fecha:"",visitas:0,id_empresa:0,nombre_empresa:"",AmigableEmpresa:"",autor:[],colaborador:[],comentarios:[],body:""}),this._alltech_service=f(K),this._magazine_service=f(Z),this._general_service=f(X),this._activated_router=f($),this.scroll=t=>{if(this.carga_info_contenido()){let a=window.scrollY,i=this.pageMagazine.nativeElement.offsetHeight,m=this.pageMagazine.nativeElement.offsetTop,x=window.innerHeight,A=a+x,re=i+m-100;if(A>re){let P=this.constenido().slice(this.indice(),this.indice()+this.limite());P.length>0?(this.visibles().push(...P),this.indice.update(le=>le+=this.limite())):this.sin_contenido.set(!0)}}},this._activated_router.params.subscribe(t=>{this.cargando.set(!0),window.scrollTo(0,0),this.indice.set(0);let a=t["url-amigable"];this._magazine_service.GetInfoNota(z,a).subscribe(i=>{this.nota.set(i.data),this.nota().visitas=this.nota().visitas+1,this.cargando.set(!1),this.saveVisita(),this._alltech_service.GetContenidosInterior(z,i.data.id).subscribe(m=>{m.success&&(this.carga_info_contenido.set(!0),this.constenido.set(m.data),this.visibles.set(this.constenido().slice(this.indice(),this.indice()+this.limite())),this.indice.update(x=>x+=this.limite()))})})})}ngOnInit(){}saveVisita(t="magazine"){v.production&&!v.isSandbox&&this._general_service.getIdUsuario().pipe(E(a=>this._magazine_service.SaveVisitaMagazine(z,t,this.nota().id,this.nota().id_empresa,a))).subscribe()}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275cmp=O({type:e,selectors:[["app-capsulas-nutricionales-alltech-interior"]],viewQuery:function(a,i){if(a&1&&R(se,5),a&2){let m;D(m=Q())&&(i.pageMagazine=m.first)}},standalone:!0,features:[G],decls:22,vars:12,consts:[["pageAlltech",""],[3,"scroll"],[1,"cont-nota"],[1,"nota-top"],[1,"titulo",3,"innerHTML"],[1,"nota-info"],[1,"iconos-gris"],[1,"nota-body"],[1,"embed-container","mt-1"],[1,"cont-autores-anterior","mt-2"],[3,"cargando"],[1,"nota_id","cambiar-tamanio",3,"innerHTML"],[3,"comentarios","id_nota"],[1,"mt-1","mb-1","pt-1","pb-2","text-c-white","text-upcase","ff-sans-condensed","bg-c-site","lh-1_1","fw-700","fsz-small"],[1,"cont-lista-cartas"],[1,"icon-pec-calendario"],[1,"icon-pec-vistas"],["title","Video alltech","frameborder","0","allow","autoplay; fullscreen; picture-in-picture","allowfullscreen","",3,"src"],[1,"cont-autores-anterior--img"],["target","_self",3,"routerLink"],[1,"smallAvatar"],["alt","Avatar",1,"smallAvatar",3,"src"],[1,"cont-autores-anterior--aut-col"],["target","_self",2,"text-decoration","none","color","#A3A3A4",3,"routerLink","innerHTML"],[3,"icon","loading","url"],[3,"icon","magazine","url","tipo"]],template:function(a,i){if(a&1){let m=U();p(0,"div",1,0),B("scroll",function(A){return L(m),H(i.scroll(A))},!1,F),p(2,"div",2)(3,"div",3),u(4,pe,1,1,"h1",4),p(5,"div",5)(6,"ul",6)(7,"li"),u(8,de,3,1,"ng-container"),d(),p(9,"li"),u(10,me,4,3,"ng-container"),d()()()(),p(11,"div",7),u(12,ue,3,4,"div",8)(13,he,9,9,"div",9),o(14,"app-links-redes",10),u(15,ge,2,4,"div",11),d()(),o(16,"app-comentarios",12)(17,"div",13),p(18,"div",14),u(19,Ce,3,1,"ng-container")(20,xe,3,0,"ng-container"),d(),u(21,be,1,0,"app-msg-sin-contenido"),d()}a&2&&(n(4),s(4,i.cargando()?-1:4),n(4),s(8,i.cargando()?-1:8),n(2),s(10,i.cargando()?-1:10),n(2),s(12,i.nota().video!=""&&!i.cargando()?12:-1),n(),s(13,i.nota().autor.length>0?13:-1),n(),l("cargando",!i.cargando()),n(),s(15,i.cargando()?-1:15),n(),l("comentarios",i.nota().comentarios)("id_nota",i.nota().id),n(3),s(19,i.carga_info_contenido()?-1:19),n(),s(20,i.carga_info_contenido()?20:-1),n(),s(21,i.visibles.length==i.constenido.length?21:-1))},dependencies:[Y,W,ne,ae,te,ie,J,ee],styles:[".iconos-gris[_ngcontent-%COMP%]   [class^=icon-pec][_ngcontent-%COMP%]:before{color:#a3a3a4}.cont-lista-cartas[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%;row-gap:10px}@media (min-width: 768px){.cont-lista-cartas[_ngcontent-%COMP%]{grid-template-columns:49.5% 49.5%;column-gap:1%;row-gap:10px}}.cont-autores-anterior[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;color:#a3a3a4;gap:1rem}.cont-autores-anterior[_ngcontent-%COMP%]   .cont-autores-anterior--img[_ngcontent-%COMP%]{width:50px}.cont-autores-anterior[_ngcontent-%COMP%]   .cont-autores-anterior--img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}.cont-autores-anterior[_ngcontent-%COMP%]   .cont-autores-anterior--aut-col[_ngcontent-%COMP%]{width:70%}@media (min-width: 768px){.cont-autores-anterior[_ngcontent-%COMP%]   .cont-autores-anterior--aut-col[_ngcontent-%COMP%]{width:auto}}"]})}}return e})();export{Ue as default};
