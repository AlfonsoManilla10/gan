import{d as I}from"./chunk-ARH7HIPE.js";import{a as r}from"./chunk-QR7RS26O.js";import{b as k}from"./chunk-RGXTWLH4.js";import{Db as S,Eb as p,La as d,Qa as h,T as _,Z as s,Zb as w,_a as v,da as b,eb as g,jb as u,ma as m,na as c,pb as C,ub as f,vb as x,zb as B}from"./chunk-COZJJN5U.js";var M=r.ruta_base_api,y=(()=>{class e{constructor(){this._http=s(k)}saveImpresionBannerSplash(n,t,i,l){let a=new FormData;return a.append("division",n.toString()),a.append("banner",t.toString()),a.append("empresa",i.toString()),a.append("usuario",l.toString()),a.append("tipo","splash"),this._http.post(`${M}SaveImpresionBanner`,a)}saveClickBannerSplash(n,t,i,l,a){let o=new FormData;return o.append("division",n.toString()),o.append("banner",t.toString()),o.append("empresa",i.toString()),o.append("usuario",l.toString()),o.append("tipo","splash"),o.append("plataforma",a),this._http.post(`${M}SaveClickBannerOtros`,o)}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function F(e,j){if(e&1){let n=B();f(0,"div",0)(1,"a",1),S("click",function(){m(n);let i=p();return c(i.ClickSplash())}),f(2,"img",2),S("load",function(){m(n);let i=p();return c(i.impresionSplash())}),x()()()}if(e&2){let n=p();h(),u("href",n.banner.link,d),h(),u("src",n.banner.banner,d)}}var D=r.division,P=(()=>{class e{constructor(){this._modalBannerSplashService=s(y),this._generalService=s(I),this.banner={id:0,empresa:0,banner:"",link:"",tipo:"",idVimeo:""},this.plataforma=v(""),this.usuario={id:0,nombre:"",email:"",pais:"",estado:"",foto:""},this.usuario=this._generalService.getUser()}impresionSplash(){r.production&&!r.isSandbox&&this._modalBannerSplashService.saveImpresionBannerSplash(D,this.banner.id,this.banner.empresa,this.usuario.id).subscribe()}ClickSplash(){r.production&&!r.isSandbox&&(window.innerWidth<768?this.plataforma.set("movil"):this.plataforma.set("web"),this._modalBannerSplashService.saveClickBannerSplash(D,this.banner.id,this.banner.empresa,this.usuario.id,this.plataforma()).subscribe())}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275cmp=b({type:e,selectors:[["app-modal-banner-splash"]],inputs:{banner:"banner"},standalone:!0,features:[w],decls:1,vars:1,consts:[[1,"modal__imagen","m-0-auto","bg-c-white","bor-rad-5","pos-relative","fsz-0"],["target","_blank",1,"banner_click","fsz-0",3,"click","href"],["alt","Imagen modal","width","auto","height","auto",1,"img_index",3,"load","src"]],template:function(t,i){t&1&&g(0,F,3,2,"div",0),t&2&&C(0,i.banner.id?0:-1)}})}}return e})();export{P as a};
