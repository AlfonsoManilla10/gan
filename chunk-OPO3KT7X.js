import{a as K}from"./chunk-ZV2R3LMA.js";import{b as A,c as r,d as q,e as R,h as B,j as Q,k as z,q as U,t as X,v as $}from"./chunk-TOZGBBW3.js";import{d as J}from"./chunk-ARH7HIPE.js";import{W as j}from"./chunk-KPZBUCCV.js";import{a as H}from"./chunk-QR7RS26O.js";import{k as D,w as k}from"./chunk-VIKG75FC.js";import{$b as m,Db as g,Eb as f,Kb as L,Lb as M,Mb as T,N as E,Pb as c,Qa as o,Qb as O,Z as V,Zb as G,_a as u,_b as N,ac as I,ca as v,da as P,eb as S,jb as a,ma as C,na as x,pb as F,sa as b,ub as n,vb as l,wb as _,zb as w}from"./chunk-COZJJN5U.js";var Z=["telefono"],ee=["label_archivo"],te=(s,y)=>({titulo:s,mensaje:y}),p=s=>({"invalid-input":s}),W=()=>["/aviso-de-privacidad"],Y=s=>({"overlayer-boton":s});function ie(s,y){if(s&1){let e=w();n(0,"div",14),c(1," Adjuntar CV "),n(2,"input",27),g("change",function(t){C(e);let d=f(2);return x(d.changeFile(t))}),l()()}}function oe(s,y){s&1&&(n(0,"div",26),_(1,"div",28),l())}function ne(s,y){if(s&1){let e=w();n(0,"div",3)(1,"div",5)(2,"h4"),c(3),l()(),_(4,"hr",6),n(5,"form",7),g("ngSubmit",function(){C(e);let t=f();return x(t.sendForm())}),n(6,"div",8)(7,"div",9),_(8,"input",10)(9,"input",11)(10,"input",12),n(11,"input",13,0),g("focusout",function(){C(e);let t=f();return x(t.ValidarTelefono())}),l(),S(13,ie,3,0,"div",14),l(),n(14,"div",9),_(15,"input",15)(16,"input",16)(17,"input",17)(18,"textarea",18),n(19,"span",19),c(20,"Los campos con * son obligatorios"),l()()(),n(21,"div",20)(22,"div",21),_(23,"input",22),c(24," Acepto "),n(25,"a",23),c(26,"Pol\xEDticas de Privacidad"),l(),_(27,"br"),c(28," * Campos obligatorios "),l(),n(29,"div",24)(30,"button",25),S(31,oe,2,0,"div",26),c(32," Enviar Solicitud "),l()()()()()}if(s&2){let e=f();o(3),O(e.titulo()),o(2),a("formGroup",e.formGroup()),o(3),a("ngClass",m(15,p,e.getError("nombre"))),o(),a("ngClass",m(17,p,e.getError("apellido"))),o(),a("ngClass",m(19,p,e.getError("email"))),o(),a("ngClass",m(21,p,e.getError("telefono"))),o(2),F(13,e.exist_file()?13:-1),o(2),a("ngClass",m(23,p,e.getError("pais"))),o(),a("ngClass",m(25,p,e.getError("estado"))),o(),a("ngClass",m(27,p,e.getError("empresa"))),o(),a("ngClass",m(29,p,e.getError("comentario"))),o(7),a("routerLink",N(31,W)),o(5),a("disabled",e.formGroup().invalid)("ngClass",m(32,Y,e.enviando())),o(),F(31,e.enviando()?31:-1)}}function re(s,y){s&1&&(n(0,"div",26),_(1,"div",28),l())}function ae(s,y){if(s&1){let e=w();n(0,"div",4)(1,"div",5)(2,"h4",29)(3,"strong"),c(4,"Contactar"),l(),c(5," al solicitante"),l()(),n(6,"form",7),g("ngSubmit",function(){C(e);let t=f();return x(t.sendForm())}),n(7,"div",8)(8,"div",9),_(9,"input",10)(10,"input",11)(11,"input",12),n(12,"input",13,0),g("focusout",function(){C(e);let t=f();return x(t.ValidarTelefono())}),l(),n(14,"div",14),c(15," Adjuntar CV "),n(16,"div",30)(17,"input",31),g("change",function(t){C(e);let d=f();return x(d.changeFile(t))}),l(),n(18,"label",32,1),c(20,"Sin archivos seleccionados"),l()()()(),n(21,"div",9),_(22,"input",15)(23,"input",16)(24,"input",17)(25,"textarea",18),n(26,"span",19),c(27,"Los campos con * son obligatorios"),l()()(),n(28,"div",20)(29,"div",21)(30,"div"),_(31,"input",22),c(32," Acepto "),n(33,"a",23),c(34,"Pol\xEDticas de Privacidad"),l()(),c(35," * Campos obligatorios "),l(),n(36,"div",24)(37,"button",25),S(38,re,2,0,"div",26),c(39," Enviar Solicitud "),l()()()()()}if(s&2){let e=f();o(6),a("formGroup",e.formGroup()),o(3),a("ngClass",m(13,p,e.getError("nombre"))),o(),a("ngClass",m(15,p,e.getError("apellido"))),o(),a("ngClass",m(17,p,e.getError("email"))),o(),a("ngClass",m(19,p,e.getError("telefono"))),o(10),a("ngClass",m(21,p,e.getError("pais"))),o(),a("ngClass",m(23,p,e.getError("estado"))),o(),a("ngClass",m(25,p,e.getError("empresa"))),o(),a("ngClass",m(27,p,e.getError("comentario"))),o(8),a("routerLink",N(29,W)),o(4),a("disabled",e.formGroup().invalid)("ngClass",m(30,Y,e.enviando())),o(),F(38,e.enviando()?38:-1)}}var se=H.division,ye=(()=>{class s{constructor(){this.tipo=b("empresa"),this.tipo_disenio=b("anterior"),this.action_recaptcha=b("contacto_empresa"),this.exist_file=b(!1),this.id_elemento=b(0),this.titulo=b("SOLICITAR INFORMACI\xD3N"),this.is_modal_visible=u(!1),this.titulo_modal=u("GRACIAS"),this.mensaje_modal=u("Su solicitud ha sido enviada con \xE9xito."),this.enviando=u(!1),this._form_builder=V(X),this._general_service=V(J),this.user_name=u(""),this.user_last_name=u(""),this.user_email=u(""),this.user_estado=u(""),this.user_pais=u(""),this.file=u(""),this.formGroup=u(this._form_builder.group({nombre:["",[r.required,r.minLength(2),r.maxLength(50)]],apellido:["",[r.required,r.minLength(2),r.maxLength(70)]],telefono:["",[r.required,r.minLength(8),r.maxLength(10),r.pattern("[0-9]{8,10}")]],email:["",[r.required,r.email,r.maxLength(100)]],pais:["",[r.required,r.minLength(2),r.maxLength(50)]],estado:["",[r.required,r.minLength(2),r.maxLength(50)]],empresa:["",[r.required,r.minLength(2),r.maxLength(80)]],comentario:["",[r.required,r.minLength(2),r.maxLength(250)]]})),this._general_service.existLogin().subscribe(e=>{e&&this._general_service.getTokenUsuario().pipe(E(i=>this._general_service.ValidateLogin(i))).subscribe(i=>{i.success&&this._general_service.saveDataLogin(i.data).subscribe(t=>{t&&this._general_service.getDatalogin().subscribe(d=>{let h=d.nombre.trim().split(" ");h!=null&&(this.user_last_name.set(h[h.length-1]),h.pop(),this.user_name.set(h.join(" "))),this.user_email.set(d.email),this.user_estado.set(d.estado),this.user_pais.set(d.pais),this.formGroup().setValue({nombre:this.user_name(),apellido:this.user_last_name(),telefono:"",email:this.user_email(),pais:this.user_pais(),estado:this.user_estado(),empresa:"",comentario:""})})})})})}ngOnInit(){}changeFile(e){let i=e.target;if(i!=null&&this.fileValidation(i)){let t=i.files[0];this.label_archivo.nativeElement.innerText=t.name,this._general_service.getBase64(t).subscribe(d=>{this.file.set(t.name+","+d)})}}fileValidation(e){var i=e.value,t=/(.pdf|.docx|.doc)$/i;return t.exec(i)?!0:(this.titulo_modal.set("Error"),this.mensaje_modal.set("Formato de CV invalido. Por favor selecciona archivos con los siguientes formatos: .PDF, .DOCX, .DOC"),this.is_modal_visible.set(!0),e.value="",!1)}sendForm(){this.enviando.set(!0),this._general_service.getIdUsuario().subscribe,this._general_service.getRecaptchaToken(this.action_recaptcha()).pipe(E(e=>this._general_service.getIdUsuario().pipe(E(i=>this._general_service.SaveFormularioContacto(se,this.id_elemento(),this.formGroup().value,this.file(),this.tipo(),e,i))))).subscribe(e=>{this.enviando.set(!1),e.success?(this.titulo_modal.set("GRACIAS"),this.mensaje_modal.set("Su solicitud ha sido enviada con \xE9xito."),this.is_modal_visible.set(!0),this.formGroup().reset()):(this.titulo_modal.set("Error"),this.mensaje_modal.set(e.msg),this.is_modal_visible.set(!0))})}getError(e){let i=!1,t=this.formGroup().get(e);return t!=null&&t.touched&&t.errors!=null&&(i=!0),i}closeModal(e){this.is_modal_visible.set(e)}ValidarTelefono(){this.getError("telefono")&&(this.titulo_modal.set("Verifica tu n\xFAmero"),this.mensaje_modal.set("El n\xFAmero debe de ser a 10 d\xEDgitos y sin espacios ni caracteres especiales. <br> Ejemplo: 0000000000"),this.is_modal_visible.set(!0))}static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275cmp=P({type:s,selectors:[["app-form-contacto"]],viewQuery:function(i,t){if(i&1&&(L(Z,5),L(ee,5)),i&2){let d;M(d=T())&&(t.telefono=d.first),M(d=T())&&(t.label_archivo=d.first)}},inputs:{tipo:[v.SignalBased,"tipo"],tipo_disenio:[v.SignalBased,"tipo_disenio"],action_recaptcha:[v.SignalBased,"action_recaptcha"],exist_file:[v.SignalBased,"exist_file"],id_elemento:[v.SignalBased,"id_elemento"],titulo:[v.SignalBased,"titulo"]},standalone:!0,features:[G],decls:3,vars:8,consts:[["telefono",""],["label_archivo",""],[3,"onCloseModal","estilos","isModalvisible","modal_respuesta"],[1,"cont-forma-contacto"],[1,"cont-forma-contacto","nuevo-dise\xF1o"],[1,"forma-contacto--top"],[1,"separador-linea-contenido"],[3,"ngSubmit","formGroup"],[1,"form-body"],[1,"form-grupo"],["type","text","name","nombre","placeholder","Nombre*","formControlName","nombre",1,"form-control",3,"ngClass"],["type","text","name","apellido","placeholder","Apellidos*","formControlName","apellido",1,"form-control",3,"ngClass"],["type","text","name","email","placeholder","E-mail*","formControlName","email",1,"form-control",3,"ngClass"],["type","text","name","telefono","placeholder","Tel\xE9fono*","formControlName","telefono","maxlength","10",1,"form-control",3,"focusout","ngClass"],[1,"col-xs-12","col-sm-6","col-md-12"],["type","text","name","pais","placeholder","Pa\xEDs*","formControlName","pais",1,"form-control",3,"ngClass"],["type","text","name","estado","placeholder","Estado*","formControlName","estado",1,"form-control",3,"ngClass"],["type","text","name","empresa","placeholder","Empresa*","formControlName","empresa",1,"form-control",3,"ngClass"],["name","comentario","rows","4","cols","50","placeholder","Comentarios*","formControlName","comentario",3,"ngClass"],[2,"display","none","color","#c52d2f"],[1,"form-footer"],[1,"form-footer--politicas"],["type","radio","name","aviso_privacidad","checked",""],["target","_blank",3,"routerLink"],[1,"form-footer--boton"],["type","submit",1,"boton-general",3,"disabled","ngClass"],[1,"overlayer"],["type","file","name","cv","accept",".pdf, .docx, .doc",1,"form-control",3,"change"],[1,"loader-btn"],[1,"titulo-strg-light"],[1,"btn-file"],["type","file","name","cv","id","cv","accept",".pdf, .docx, .doc",1,"form-control",2,"overflow","hidden",3,"change"],["for","cv",1,"max-line-text-2"]],template:function(i,t){i&1&&(n(0,"app-modal-respuesta-nuevo",2),g("onCloseModal",function(h){return t.closeModal(h)}),l(),S(1,ne,33,34,"div",3)(2,ae,40,32,"div",4)),i&2&&(a("estilos","visibility: visible;")("isModalvisible",t.is_modal_visible())("modal_respuesta",I(5,te,t.titulo_modal(),t.mensaje_modal())),o(),F(1,t.tipo_disenio()=="anterior"?1:-1),o(),F(2,t.tipo_disenio()=="nuevo"?2:-1))},dependencies:[k,D,j,$,B,A,q,R,U,Q,z,K],styles:["button[_ngcontent-%COMP%]:disabled{background-color:#d5d1d1;cursor:no-drop}.boton-general[_ngcontent-%COMP%]{font-family:Open Sans Condensed,sans-serif;font-weight:700;background-color:#f16521;border-radius:0;height:40px;text-align:center;color:#fff;font-size:15px;width:100%;text-transform:uppercase;display:block;line-height:1;padding:1rem 0}.boton-general.radius-10[_ngcontent-%COMP%]{border-radius:10px}.titulo-strg-light[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif!important;line-height:1.1!important;font-size:2rem!important;color:#000!important;font-weight:400!important}.titulo-strg-light[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700!important}.overlayer-boton[_ngcontent-%COMP%]{position:relative}.overlayer-boton[_ngcontent-%COMP%]   .overlayer[_ngcontent-%COMP%]{transition:all .3s;width:100%;height:100%;position:absolute;top:0;left:0;opacity:1;background-color:#0009;z-index:2;display:flex;justify-content:center;align-items:center}.loader-btn[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;display:block;margin:auto;position:relative;background:#fff;box-shadow:-24px 0 #fff,24px 0 #fff;box-sizing:border-box;animation:shadowPulse 2s linear infinite;margin:0 3rem}"],changeDetection:0})}}return s})();export{ye as a};
