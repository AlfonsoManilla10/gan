import{a as Q}from"./chunk-YKCXEIZT.js";import{h as K}from"./chunk-B2E53Q3J.js";import{d as H}from"./chunk-ARH7HIPE.js";import{V as W,W as J,na as q}from"./chunk-KPZBUCCV.js";import{a as I}from"./chunk-QR7RS26O.js";import{b as G}from"./chunk-HCO6HHKT.js";import"./chunk-RGXTWLH4.js";import{k as L,m as z,w as A}from"./chunk-VIKG75FC.js";import{Db as T,Eb as s,Pb as p,Qa as l,Qb as N,Z as x,Zb as R,_a as f,_b as $,ac as D,cc as M,da as P,eb as c,fb as v,fc as V,ga as O,gb as B,hb as S,jb as d,ma as C,na as g,pb as h,qb as F,sb as k,tb as E,ub as o,vb as r,wb as m,zb as y}from"./chunk-COZJJN5U.js";var U=(()=>{class e{transform(t,i,n){let b=[];switch(i){case"vistas":n==="down"?b=t.sort((u,_)=>u.visitas-_.visitas):n==="up"&&(b=t.sort((u,_)=>_.visitas-u.visitas));break;case"fecha":let j=u=>{let _=u.split("-"),Z=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"].findIndex(ee=>ee==_[1]);return`${_[2]}-${Z}-${_[0]}`};n==="down"?b=t.sort((u,_)=>j(_.fecha)<j(u.fecha)?1:-1):n==="up"&&(b=t.sort((u,_)=>j(u.fecha)<j(_.fecha)?1:-1));break;default:b=t;break}return b}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275pipe=O({name:"FiltroBolsa",type:e,pure:!0,standalone:!0})}}return e})();var ie=()=>[import("./chunk-73PQVTYR.js").then(e=>e.ModalTemplateComponent),import("./chunk-CNCTEBU7.js").then(e=>e.ModalNuevaVacanteComponent)],oe=()=>[import("./chunk-73PQVTYR.js").then(e=>e.ModalTemplateComponent),import("./chunk-XCKQNQYA.js").then(e=>e.ModalLoginComponent)],ne=()=>[import("./chunk-73PQVTYR.js").then(e=>e.ModalTemplateComponent),import("./chunk-Q2RWSO43.js").then(e=>e.ModalRespuestaVacanteComponent)],X=()=>[import("./chunk-VYRVFBPQ.js").then(e=>e.ItemBolsaTrabajoComponent)],ae=()=>["/registro-usuario"],Y=(e,a)=>({"icon-pec-mas":e,"icon-pec-menos":a});function re(e,a){if(e&1&&(o(0,"app-modal-template",10),m(1,"app-modal-nueva-vacante"),r()),e&2){let t=s();d("show_modal",t.show_modal)}}function se(e,a){if(e&1&&(o(0,"app-modal-template",10),m(1,"app-modal-login"),r()),e&2){let t=s();d("show_modal",t.show_modal_login)}}function le(e,a){if(e&1&&(o(0,"app-modal-template",10),m(1,"app-modal-respuesta-vacante"),r()),e&2){let t=s();d("show_modal",t.show_modal_respuesta)}}function ce(e,a){if(e&1&&(o(0,"h2",2),p(1),r()),e&2){let t=s();l(),N(t.description())}}function pe(e,a){e&1&&m(0,"div",11)}function _e(e,a){if(e&1){let t=y();o(0,"div",12)(1,"p",13),p(2,"Para poder publicar tu oferta debes ser usuario registrado."),r(),o(3,"div",14)(4,"button",15),T("click",function(){C(t);let n=s();return g(n.show_modal_login.set(!0))}),o(5,"span",16),p(6,"INGRESA"),r()(),o(7,"a",17)(8,"span",16),p(9,"REG\xCDSTRATE"),r()()()()}e&2&&(l(7),d("routerLink",$(1,ae)))}function de(e,a){if(e&1&&m(0,"span",21),e&2){let t=s(2);d("ngClass",D(1,Y,t.orden_filtro()=="up",t.orden_filtro()=="down"))}}function me(e,a){if(e&1&&m(0,"span",21),e&2){let t=s(2);d("ngClass",D(1,Y,t.orden_filtro()=="up",t.orden_filtro()=="down"))}}function fe(e,a){if(e&1){let t=y();o(0,"div",18)(1,"div",19)(2,"a",20),T("click",function(){C(t);let n=s();return g(n.toggleOrdenFiltro("vistas"))}),c(3,de,1,4,"span",21),p(4," M\xE1s vistos "),r()(),o(5,"div",19)(6,"a",20),T("click",function(){C(t);let n=s();return g(n.toggleOrdenFiltro("fecha"))}),c(7,me,1,4,"span",21),p(8," M\xE1s recientes "),r()(),o(9,"div",22)(10,"a",23),T("click",function(){C(t);let n=s();return g(n.openModalPublicar())}),p(11," Publicar vacante "),r()()()}if(e&2){let t=s();l(3),h(3,t.tipo_filtro()!=""&&t.tipo_filtro()=="vistas"?3:-1),l(4),h(7,t.tipo_filtro()!=""&&t.tipo_filtro()=="fecha"?7:-1)}}function ue(e,a){if(e&1&&m(0,"app-item-bolsa-trabajo",26),e&2){let t=s().$implicit;d("vacante",t)}}function be(e,a){e&1&&m(0,"div",27)}function xe(e,a){e&1&&(c(0,ue,1,1)(1,be,1,0),v(2,0,X,null,1),S(0,-1))}function ve(e,a){if(e&1&&(o(0,"section")(1,"div",24)(2,"strong",25),p(3," Vacantes "),o(4,"span",8),p(5,"destacadas"),r()(),o(6,"div",9),k(7,xe,4,0,null,null,F),M(9,"FiltroBolsa"),r()()()),e&2){let t=s();l(7),E(V(9,0,t.arr_vacantes_destacadas(),t.tipo_filtro(),t.orden_filtro()))}}function he(e,a){if(e&1&&m(0,"app-item-bolsa-trabajo",26),e&2){let t=s().$implicit;d("vacante",t)}}function Ce(e,a){e&1&&m(0,"div",27)}function ge(e,a){e&1&&(c(0,he,1,1)(1,Ce,1,0),v(2,0,X,null,1),S(0,-1))}function Te(e,a){if(e&1&&(k(0,ge,4,0,null,null,F),M(2,"FiltroBolsa")),e&2){let t=s();E(V(2,0,t.arr_vacantes(),t.tipo_filtro(),t.orden_filtro()))}}function we(e,a){e&1&&(o(0,"div",28),p(1," No hay m\xE1s vacantes disponibles. "),r())}var w=I.division,Ne=(()=>{class e{constructor(){this._titleService=x(G),this._routerService=x(W),this._generalService=x(H),this._bolsaTrabajoService=x(Q),this._loginService=x(K),this.description=f(""),this.is_user_login=f(!1),this.tipo_filtro=f(""),this.orden_filtro=f("up"),this.arr_vacantes_destacadas=f([]),this.arr_vacantes=f([]),this.show_modal=f(!1),this.show_modal_login=f(!1),this.show_modal_respuesta=f(!1),window.scrollTo(0,0),this._titleService.setTitle(`Bolsa de trabajo en ${I.nombre_division}`)}ngOnInit(){this._bolsaTrabajoService.$show_modal_respuesta.subscribe(i=>{this.show_modal.set(!1),this.show_modal_respuesta.set(i)}),this._generalService.getMetas("bolsa-trabajo","bolsa",w).subscribe({next:({data:i})=>this.description.set(i.description)}),this._loginService.existLogin().subscribe(i=>this.is_user_login.set(i)),this._routerService.url.split("/")[1]=="bolsa-trabajo-borrador"?(this._bolsaTrabajoService.getVacantesBorrador(w,!0,0,5).subscribe(i=>{this.arr_vacantes_destacadas.set(i.data)}),this._bolsaTrabajoService.getVacantesBorrador(w,!1,0,5).subscribe(i=>{this.arr_vacantes.set(i.data)})):(this._bolsaTrabajoService.getVacantesDestacadas(w).subscribe(i=>{this.arr_vacantes_destacadas.set(i.data)}),this._bolsaTrabajoService.getVacantes(w).subscribe(i=>{this.arr_vacantes.set(i.data)}))}openModalPublicar(){this.show_modal.update(t=>!t)}toggleOrdenFiltro(t){this.tipo_filtro.set(t),this.orden_filtro()=="up"?this.orden_filtro.set("down"):this.orden_filtro.set("up")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=P({type:e,selectors:[["app-bolsa-trabajo"]],standalone:!0,features:[R],decls:29,vars:8,consts:[[1,"bg-c-site","d-flex","gap-1","justify-content-space-between","align-items-center","mb-1","p-1","pl-2","pr-2"],[1,"cont__title__section","text-upcase","text-c-white","ff-sans-condensed","lh-1_1","mb-0_5"],[1,"descripcion-pagina","text-c-white","fw-400"],["class","cont-mensaje-registro",4,"ngIf"],[1,"vacante-usuario-registrado","mt-2"],["class","d-flex flex-wrap flex-md-nowrap  gap-1 mb-2",4,"ngIf"],[1,"cont-vacante","bg-c-white","p-2"],[1,"title-vacante","text-c-dark","text-upcase","mb-2","d-block"],[1,"fw-400"],[1,"cont-lista-vacantes"],[3,"show_modal"],[2,"height","18.56px"],[1,"cont-mensaje-registro"],[1,"text-upcase","text-center","mb-1","mt-2","fw-600","text-btn","ff-sans-condensed","pr-1","pl-1"],[1,"d-flex","gap-1","flex-wrap","flex-md-nowrap"],[1,"bg-c-orange","bor-rad-10","p-1","w-100","text-center",3,"click"],[1,"text-c-white","lh-1_1","fw-700","text-btn","ff-sans-condensed"],["target","_self",1,"bg-c-orange","bor-rad-10","p-1","w-100","text-center",3,"routerLink"],[1,"d-flex","flex-wrap","flex-md-nowrap","gap-1","mb-2"],[1,"w-100","bg-c-white","p-1","pt-0_5","pb-0_5","bor-rad-10","text-center","icono"],[1,"text-c-dark","text-upcase","fw-700","text-btn","ff-sans-condensed",3,"click"],[3,"ngClass"],[1,"w-100","bg-c-orange","p-1","pt-0_5","pb-0_5","bor-rad-10","text-center"],["href","javascript:;",1,"text-c-white","text-upcase","fw-700","text-btn","ff-sans-condensed",3,"click"],[1,"cont-vacante","p-2","bg-c-white","mb-2"],[1,"title-vacante","text-c-dark","mb-2","text-upcase","decorador-lateral","d-block","pos-relative","pl-1"],[3,"vacante"],[2,"height","50px"],[1,"fsz-medium","mt-2","text-center","text-c-site","text-upcase"]],template:function(i,n){i&1&&(c(0,re,2,1),v(1,0,ie),c(3,se,2,1),v(4,3,oe),c(6,le,2,1),v(7,6,ne),o(9,"div")(10,"div",0)(11,"div")(12,"h1",1),p(13," Bolsa de trabajo "),r(),c(14,ce,2,1,"h2",2)(15,pe,1,0),r()(),o(16,"section"),c(17,_e,10,2,"div",3),o(18,"div",4),c(19,fe,12,2,"div",5),r()(),c(20,ve,10,4,"section"),o(21,"section")(22,"div",6)(23,"strong",7)(24,"span",8),p(25,"Vacantes"),r()(),o(26,"div",9),c(27,Te,3,4)(28,we,2,0),r()()()()),i&2&&(l(),B(n.show_modal()),l(3),B(n.show_modal_login()),l(3),B(!0),l(7),h(14,n.description().trim().length!=0?14:15),l(3),d("ngIf",!n.is_user_login()),l(2),d("ngIf",n.is_user_login()),l(),h(20,n.arr_vacantes_destacadas().length!=0?20:-1),l(7),h(27,n.arr_vacantes().length!=0?27:28))},dependencies:[A,L,z,q,J,U],styles:['.text-btn[_ngcontent-%COMP%]{font-size:15px}.cont-vacante[_ngcontent-%COMP%]   .title-vacante[_ngcontent-%COMP%]{font-size:2rem}.decorador-lateral[_ngcontent-%COMP%]:before{content:"";position:absolute;width:.5rem;height:100%;top:0;left:0;border:1px solid transparent;border-radius:10px;background-color:#91100a}']})}}return e})();export{Ne as default};
