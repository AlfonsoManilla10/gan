import{a as K,b as kt,c as zt,d as $t,e as Lt}from"./chunk-JSMIOR76.js";import"./chunk-MEKLB6L5.js";import{a as Dt}from"./chunk-WKTYE2IN.js";import{a as Tt}from"./chunk-SMTHFKF7.js";import{a as Et}from"./chunk-ZV55WRZB.js";import"./chunk-OPO3KT7X.js";import"./chunk-ZV2R3LMA.js";import"./chunk-2WTWRTFM.js";import{a as St}from"./chunk-QOUIGL3R.js";import"./chunk-4AFNZMDN.js";import"./chunk-JR4YQNQC.js";import{a as yt}from"./chunk-G4GNPQPH.js";import"./chunk-KQQ3XV4V.js";import"./chunk-NZ32AR3U.js";import"./chunk-KPWT4AZA.js";import"./chunk-HY274QHY.js";import"./chunk-PVPUIAXI.js";import"./chunk-WFRMUFUB.js";import"./chunk-ILPDLS5K.js";import"./chunk-Y5THQI5Z.js";import"./chunk-BSPFLHYX.js";import"./chunk-EQUS2AHT.js";import"./chunk-TOZGBBW3.js";import{a as wt}from"./chunk-AUFDO7OV.js";import{c as vt,d as xt,h as Mt,i as Pt}from"./chunk-B2E53Q3J.js";import{d as Ct}from"./chunk-ARH7HIPE.js";import{H as ht,V as ft,W as bt}from"./chunk-KPZBUCCV.js";import{a as Ot}from"./chunk-MO4VOJ6B.js";import{a as B}from"./chunk-QR7RS26O.js";import{b as gt}from"./chunk-HCO6HHKT.js";import{b as ut}from"./chunk-RGXTWLH4.js";import{k as _t,v as mt,w as pt}from"./chunk-VIKG75FC.js";import{$b as z,Db as V,Eb as s,Ka as k,Kb as rt,La as D,Lb as st,Ma as ot,Mb as ct,N as tt,Oa as at,Pb as v,Qa as n,Qb as Q,Rb as X,T as it,Z as b,Zb as lt,_a as u,cc as J,da as nt,dc as dt,eb as h,ec as et,jb as l,ma as A,na as F,pb as p,qb as H,sb as I,tb as N,ub as c,vb as r,wb as d,xb as Y,yb as j,zb as R}from"./chunk-COZJJN5U.js";var U=B.ruta_base_api,Bt=(()=>{class e{constructor(){this._http=b(ut)}getNotaMicrositio(t,i){return this._http.get(`${U}micrositio/get_nota/${t}/${i}`)}getNotaMicrositioBorrador(t,i){return this._http.get(`${U}micrositio/get_nota_borrador/${t}/${i}`)}getBannerMicrositio(t,i){return this._http.get(`${U}micrositio/get_banner/${t}/${i}`)}getBannerProgramadoMicrositio(t,i){return this._http.get(`${U}micrositio/get_banner_programado/${t}/${i}`)}getEmpresaDestacados(t,i,o,m,E){return this._http.get(`${U}micrositio/get_destacados/${t}/${i}/${o}/${m}/${E}`)}GetMasLeidos(t,i){return this._http.get(`${U}micrositio/get_mas_vistos/${t}/${i}`)}getBannerSuperMicrositioEmpresa(t,i){return this._http.get(`${U}empresas/get_banner_super_micrositio/${t}/${i}`)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=it({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ht=["contSecciones"],W=e=>({active:e}),Z=e=>[e];function It(e,a){if(e&1&&(c(0,"a",8),d(1,"img",9),r()),e&2){let t=s(2);l("href",t.banner().url_cover,D),n(),l("src",t.banner().cover,D)}}function Nt(e,a){if(e&1&&d(0,"img",9),e&2){let t=s(2);l("src",t.banner().cover,D)}}function Vt(e,a){if(e&1&&(Y(0),c(1,"div",7),h(2,It,2,2,"a",8)(3,Nt,1,1),r(),j()),e&2){let t=s();n(2),p(2,t.banner().url_cover!=""?2:3)}}function Ut(e,a){e&1&&d(0,"div",1)}function Rt(e,a){if(e&1){let t=R();c(0,"button",10),V("click",function(){A(t);let o=s();return F(o.cambiaSeccion(1))}),v(1,"Productos"),r()}if(e&2){let t=s();l("ngClass",z(1,W,t.arr_secciones()[1]))}}function qt(e,a){if(e&1){let t=R();c(0,"button",10),V("click",function(){A(t);let o=s();return F(o.cambiaSeccion(2))}),v(1,"Art\xEDculos"),r()}if(e&2){let t=s();l("ngClass",z(1,W,t.arr_secciones()[2]))}}function Gt(e,a){if(e&1){let t=R();c(0,"button",10),V("click",function(){A(t);let o=s();return F(o.cambiaSeccion(3))}),v(1,"Noticias"),r()}if(e&2){let t=s();l("ngClass",z(1,W,t.arr_secciones()[3]))}}function Yt(e,a){if(e&1){let t=R();c(0,"button",10),V("click",function(){A(t);let o=s();return F(o.cambiaSeccion(4))}),v(1,"Videos"),r()}if(e&2){let t=s();l("ngClass",z(1,W,t.arr_secciones()[4]))}}function jt(e,a){e&1&&d(0,"li")(1,"li")(2,"li")}function Qt(e,a){if(e&1&&(c(0,"li"),d(1,"span",28),v(2),r()),e&2){let t=s(2);n(2),X(" ",t.nota().fuente," ")}}function Wt(e,a){if(e&1&&(c(0,"li"),d(1,"span",29),v(2),r(),c(3,"li"),d(4,"span",30),v(5),J(6,"number"),r()),e&2){let t=s(2);n(2),X(" ",t.nota().fecha," "),n(3),X(" ",dt(6,2,t.nota().visitas+1)," ")}}function Xt(e,a){if(e&1&&d(0,"img",35),e&2){let t=s(2).$implicit,i=s(4);l("src",i.url_secure()+"autores/"+t.foto,D)}}function Jt(e,a){if(e&1&&(c(0,"a",33)(1,"div",34),h(2,Xt,1,1,"img",35),r(),c(3,"span",36),d(4,"sup"),v(5),r()()),e&2){let t=s().$implicit;l("routerLink",z(4,Z,"/autor/"+t.url_amigable)),n(2),p(2,t.foto!=""?2:-1),n(),l("innerHTML",t.nombre,k),n(2),Q(t.super_indice)}}function Kt(e,a){if(e&1&&d(0,"img",35),e&2){let t=s(2).$implicit,i=s(4);l("src",i.url_secure()+"autores/"+t.foto,D)}}function Zt(e,a){if(e&1&&(c(0,"a",37)(1,"div",34),h(2,Kt,1,1,"img",35),r(),c(3,"span",36),d(4,"sup"),v(5),r()()),e&2){let t=s().$implicit;n(2),p(2,t.foto!=""?2:-1),n(),l("innerHTML",t.nombre,k),n(2),Q(t.super_indice)}}function te(e,a){if(e&1&&(c(0,"div",32),h(1,Jt,6,6,"a",33)(2,Zt,6,3),r()),e&2){let t=a.$implicit;n(),p(1,t.is_link?1:2)}}function ee(e,a){if(e&1&&I(0,te,3,1,"div",32,H),e&2){let t=s(3);N(t.nota().autor)}}function ie(e,a){if(e&1&&(c(0,"a",33)(1,"div",34),d(2,"img",35),r(),c(3,"span",36),d(4,"sup"),v(5),r()()),e&2){let t=s().$implicit,i=s(4);l("routerLink",z(4,Z,"/autor/"+t.url_amigable)),n(2),l("src",i.url_secure()+"autores/"+t.foto,D),n(),l("innerHTML",t.nombre,k),n(2),Q(t.super_indice)}}function ne(e,a){if(e&1&&(c(0,"a",37)(1,"div",34),d(2,"img",35),r(),c(3,"span",36),d(4,"sup"),v(5),r()()),e&2){let t=s().$implicit,i=s(4);n(2),l("src",i.url_secure()+"autores/"+t.foto,D),n(),l("innerHTML",t.nombre,k),n(2),Q(t.super_indice)}}function oe(e,a){if(e&1&&(c(0,"div",38),h(1,ie,6,6,"a",33)(2,ne,6,3),r()),e&2){let t=a.$implicit;n(),p(1,t.is_link?1:2)}}function ae(e,a){if(e&1&&(Y(0),I(1,oe,3,1,"div",38,H),j()),e&2){let t=s(3);n(),N(t.nota().colaborador)}}function re(e,a){if(e&1&&d(0,"div",31),e&2){let t=s(3);l("innerHTML",t.colaboradores_nombres(),k)}}function se(e,a){if(e&1&&(Y(0),h(1,ee,2,0)(2,ae,3,0,"ng-container")(3,re,1,1,"div",31),j()),e&2){let t=s(2);n(),p(1,t.nota().autor.length>0?1:-1),n(),p(2,t.colaborador_nuevo()?2:-1),n(),p(3,t.colaborador_nuevo?-1:3)}}function ce(e,a){if(e&1&&(c(0,"div",41)(1,"a",42)(2,"div",34),d(3,"img",43),r()()(),c(4,"div",44),v(5," Autor: "),d(6,"a",45),r()),e&2){let t=s(3);n(),l("routerLink",z(4,Z,"/autor/"+t.nota().autor[0].url_amigable)),n(2),l("src",t.url_secure()+"autores/"+t.nota().autor[0].foto,D),n(3),l("routerLink",z(6,Z,"/autor/"+t.nota().autor[0].url_amigable))("innerHTML",t.nota().autor[0].nombre,k)}}function le(e,a){if(e&1&&d(0,"div",40),e&2){let t=s(3);l("innerHTML",t.nota().colaborador[0].nombre,k)}}function de(e,a){if(e&1&&(Y(0),c(1,"div",39),h(2,ce,7,8)(3,le,1,1,"div",40),r(),j()),e&2){let t=s(2);n(2),p(2,t.nota().autor.length>0?2:-1),n(),p(3,t.nota().colaborador.length>0?3:-1)}}function _e(e,a){if(e&1&&(c(0,"div",20),d(1,"iframe",46),J(2,"safeUrlPipe"),r()),e&2){let t=s(2);n(),l("src",et(2,1,t.nota().video,"resourceUrl"),ot)}}function me(e,a){if(e&1&&(c(0,"section")(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14),d(5,"h1",15),c(6,"div",16)(7,"ul"),h(8,jt,3,0)(9,Qt,3,1,"li")(10,Wt,7,4),r()()(),d(11,"div",17),c(12,"div",18)(13,"div",19),h(14,se,4,3,"ng-container")(15,de,4,2),r(),h(16,_e,3,4,"div",20),d(17,"app-links-redes",21)(18,"div",22)(19,"div",23),J(20,"safeUrlPipe"),r()(),c(21,"div",24),d(22,"app-comentarios",25),r()(),c(23,"div",26),d(24,"app-mas-leido",27),r()()()),e&2){let t=s();n(5),l("innerHtml",t.nota().titulo,k),n(3),p(8,t.is_load_info()?-1:8),n(),p(9,t.nota().fuente!=""&&t.nota().fuente!=null?9:-1),n(),p(10,t.is_load_info()?10:-1),n(4),p(14,t.diseno_nuevo()?14:15),n(2),p(16,t.nota().video!=""?16:-1),n(),l("cargando",t.is_load_info()),n(2),l("innerHtml",et(20,13,t.nota().body,"html"),k),n(3),l("titulo_seccion",t.nota().categoria==1?"esta noticia":t.nota().categoria==2?"este articulo":t.nota().categoria==4?"este video":"")("comentarios",t.nota().comentarios)("id_nota",t.nota().id),n(2),l("mas_leidos",t.mas_leidos())("sub_path","/micrositio/"+t.nota().AmigableEmpresa+"/")}}function pe(e,a){if(e&1&&d(0,"app-carta-producto",49),e&2){let t=a.$implicit;l("tipo","empresa")("producto",t)}}function ue(e,a){e&1&&d(0,"app-msg-sin-contenido")}function ge(e,a){if(e&1&&(c(0,"section")(1,"div",47)(2,"div",48),I(3,pe,1,2,"app-carta-producto",49,H),r(),h(5,ue,1,0,"app-msg-sin-contenido"),r()()),e&2){let t=s();n(3),N(t.arr_productos()),n(2),p(5,t.is_datos_completos_productos()?5:-1)}}function he(e,a){if(e&1&&d(0,"app-carta-nota",52),e&2){let t=a.$implicit,i=s(2);l("url","micrositio/"+i.nota().AmigableEmpresa+"/")("tipo","micrositio")("magazine",t)("icon","articulo-lapiz")}}function fe(e,a){e&1&&d(0,"app-msg-sin-contenido")}function be(e,a){if(e&1&&(c(0,"section")(1,"div",50)(2,"div",51),I(3,he,1,4,"app-carta-nota",52,H),r(),h(5,fe,1,0,"app-msg-sin-contenido"),r()()),e&2){let t=s();n(3),N(t.arr_articulos()),n(2),p(5,t.is_datos_completos_articulos()?5:-1)}}function ve(e,a){if(e&1&&d(0,"app-carta-nota",52),e&2){let t=a.$implicit,i=s(2);l("url","micrositio/"+i.nota().AmigableEmpresa+"/")("tipo","micrositio")("magazine",t)("icon","noticia")}}function Ce(e,a){e&1&&d(0,"app-msg-sin-contenido")}function xe(e,a){if(e&1&&(c(0,"section")(1,"div",53)(2,"div",51),I(3,ve,1,4,"app-carta-nota",52,H),r(),h(5,Ce,1,0,"app-msg-sin-contenido"),r()()),e&2){let t=s();n(3),N(t.arr_noticias()),n(2),p(5,t.is_datos_completos_noticias()?5:-1)}}function Me(e,a){if(e&1&&d(0,"app-carta-nota",52),e&2){let t=a.$implicit,i=s(2);l("url","micrositio/"+i.nota().AmigableEmpresa+"/")("tipo","micrositio")("magazine",t)("icon","video")}}function Pe(e,a){e&1&&d(0,"app-msg-sin-contenido")}function Oe(e,a){if(e&1&&(c(0,"section")(1,"div",54)(2,"div",51),I(3,Me,1,4,"app-carta-nota",52,H),r(),h(5,Pe,1,0,"app-msg-sin-contenido"),r()()),e&2){let t=s();n(3),N(t.arr_videos()),n(2),p(5,t.is_datos_completos_videos()?5:-1)}}var g=B.division,We=(()=>{class e{constructor(){this.arr_secciones=u([!0,!1,!1,!1,!1]),this.url_secure=u(B.url_secure),this.is_load_info=u(!1),this.diseno_nuevo=u(!0),this.colaborador_nuevo=u(!1),this.colaboradores_nombres=u(""),this.album=u([]),this.mas_leidos=u([]),this.is_load_scroll=u(!1),this.is_datos_completos_productos=u(!1),this.index_pro=u(0),this.arr_productos=u([]),this.is_datos_completos_articulos=u(!1),this.index_articulos=u(0),this.arr_articulos=u([]),this.is_datos_completos_noticias=u(!1),this.index_noticias=u(0),this.arr_noticias=u([]),this.is_datos_completos_videos=u(!1),this.index_videos=u(0),this.arr_videos=u([]),this.nota=u({id:0,exclusivo:!1,categoria:0,titulo:"",title:"",fuente:"",imagen_nota:!1,resource:{original:"",large:"",medium:"",small:""},video:"",fecha:"",visitas:0,id_empresa:0,nombre_empresa:"",AmigableEmpresa:"",autor:[],colaborador:[],comentarios:[],body:""}),this.banner=u({id:0,cover:"",url_cover:""}),this.sin_banner=u(!1),this.banner_prog=u({img:"",url:"",fecha_inicio:"",fecha_fin:""}),this._activated_route=b(ht),this._router=b(ft),this._micrositio_service=b(Bt),this._general_service=b(Ct),this._title=b(gt),this._magazine_service=b(xt),this._empresa_service=b(vt),this._lightbox_event=b(kt),this._lightbox=b($t),this._lightbox_config=b(zt),this._loginService=b(Mt),this._usuarioService=b(Pt),this.scroll=t=>{let i=window.innerHeight,o=window.scrollY+i,m=this.contSecciones.nativeElement.offsetHeight,E=this.contSecciones.nativeElement.offsetTop,T=m+E;o>T&&(this.is_load_scroll()||(this.is_load_scroll.set(!0),this.cargarContenidos(),setTimeout(()=>{this.is_load_scroll.set(!1)},500)))},this._general_service.$paginaLoader.emit(!0),this._activated_route.params.subscribe(t=>{let i=this._activated_route.snapshot.url[0].path,o=this._activated_route.parent?.snapshot.url[0].path,m="micrositio/"+i+"/"+t["url-amigable"],T=this._router.parseUrl(this._router.url).queryParamMap.get("tokenmailchimp");T!=null?this.loginMailchimp(T,m):o=="micrositio"?this._micrositio_service.getNotaMicrositio(g,t["url-amigable"]).subscribe({next:C=>{C.success?C.data.success?(this.arr_secciones.set([!0,!1,!1,!1,!1]),this.nota.set(C.data.data),this.is_load_info.set(!0),this._title.setTitle(this.nota().nombre_empresa),this.saveVisita(),this.cambiarTamanioImg(),Number(this.nota().fecha.split(" ")[2])>2020?this.diseno_nuevo.set(!0):this.diseno_nuevo.set(!1),this.nota().colaborador[0]!==void 0&&(this.nota().colaborador[0].foto!==void 0?(this.colaborador_nuevo.set(!0),this.colaboradores_nombres.set("")):(this.colaborador_nuevo.set(!1),this.colaboradores_nombres.set("Colaboradores: "+this.nota().colaborador[0].nombre))),this.listaStart(),this.initLigthBox(),this._micrositio_service.GetMasLeidos(g,this.nota().id_empresa).subscribe(_=>{_.success&&this.mas_leidos.set(_.data)}),this._micrositio_service.getBannerSuperMicrositioEmpresa(g,this.nota().id_empresa).subscribe(_=>{let $=_.data;$.length!=0?(this.banner().id=$[0].id,this.banner().cover=$[0].imagen,this.banner().url_cover=$[0].link,this.impresionBannerSuper()):this._micrositio_service.getBannerProgramadoMicrositio(g,this.nota().id_empresa).subscribe(q=>{if(q.success){this.banner_prog.set(q.data);let x=new Date,L=S=>{let f=S.getMonth()+1,y=S.getDate();return f=f<10?"0"+f:f,y=y<10?"0"+y:y,S.getFullYear()+"-"+f+"-"+y},M=(x.getMonth()+1).toString(),P=x.getDate().toString();M=Number(M)<10?"0"+M:M,P=Number(P)<10?"0"+P:P;let G=x.getFullYear()+"-"+M+"-"+P,O=new Date(this.banner_prog().fecha_inicio);O.setDate(O.getDate()+1),O=L(O);let w=new Date(this.banner_prog().fecha_fin);w.setDate(w.getDate()+1),w=L(w),G>=O&&G<=w?(this.banner().cover=this.banner_prog().img,this.banner().url_cover=this.banner_prog().url):this._micrositio_service.getBannerMicrositio(g,this.nota().id_empresa).subscribe(S=>{this.banner.set(S.data),this.banner().cover==""&&this.sin_banner.update(f=>!f)})}else this._micrositio_service.getBannerMicrositio(g,this.nota().id_empresa).subscribe(x=>{this.banner.set(x.data),this.banner().cover==""&&this.sin_banner.update(L=>!L)})})}),this._empresa_service.getEmpresaProductos(g,this.nota().id_empresa,this.index_pro(),8).subscribe(_=>{_.success&&(this.index_pro.set(1),this.arr_productos.set(_.data),this.arr_productos().length<4&&this.is_datos_completos_productos.set(!0))}),this._micrositio_service.getEmpresaDestacados(g,this.nota().id_empresa,this.index_noticias(),6,1).subscribe(_=>{_.success&&(this.index_noticias.set(1),this.arr_noticias.set(_.data),this.arr_noticias().length<3&&this.is_datos_completos_noticias.set(!0))}),this._micrositio_service.getEmpresaDestacados(g,this.nota().id_empresa,this.index_articulos(),6,2).subscribe(_=>{_.success&&(this.index_articulos.set(1),this.arr_articulos.set(_.data),this.arr_articulos().length<3&&this.is_datos_completos_articulos.set(!0))}),this._micrositio_service.getEmpresaDestacados(g,this.nota().id_empresa,this.index_videos(),6,4).subscribe(_=>{_.success&&(this.index_videos.set(1),this.arr_videos.set(_.data),this.arr_videos().length<3&&this.is_datos_completos_videos.set(!0))})):this._router.navigate(["/"]):this._router.navigate(["/"])},error:C=>{},complete:()=>{this._general_service.$paginaLoader.emit(!1)}}):this._micrositio_service.getNotaMicrositioBorrador(g,t["url-amigable"]).subscribe({next:C=>{C.success?C.data.success?(this.arr_secciones.set([!0,!1,!1,!1,!1]),this.nota.set(C.data.data),this.is_load_info.set(!0),this._title.setTitle(this.nota().nombre_empresa),this.cambiarTamanioImg(),Number(this.nota().fecha.split(" ")[2])>2020?this.diseno_nuevo.set(!0):this.diseno_nuevo.set(!1),this.nota().colaborador[0]!==void 0&&(this.nota().colaborador[0].foto!==void 0?(this.colaborador_nuevo.set(!0),this.colaboradores_nombres.set("")):(this.colaborador_nuevo.set(!1),this.colaboradores_nombres.set("Colaboradores: "+this.nota().colaborador[0].nombre))),this.listaStart(),this.initLigthBox(),this._micrositio_service.GetMasLeidos(g,this.nota().id_empresa).subscribe(_=>{_.success&&this.mas_leidos.set(_.data)}),this._micrositio_service.getBannerSuperMicrositioEmpresa(g,this.nota().id_empresa).subscribe(_=>{let $=_.data;$.length!=0?(this.banner().id=$[0].id,this.banner().cover=$[0].imagen,this.banner().url_cover=$[0].link):this._micrositio_service.getBannerProgramadoMicrositio(g,this.nota().id_empresa).subscribe(q=>{if(q.success){this.banner_prog.set(q.data);let x=new Date,L=S=>{let f=S.getMonth()+1,y=S.getDate();return f=f<10?"0"+f:f,y=y<10?"0"+y:y,S.getFullYear()+"-"+f+"-"+y},M=(x.getMonth()+1).toString(),P=x.getDate().toString();M=Number(M)<10?"0"+M:M,P=Number(P)<10?"0"+P:P;let G=x.getFullYear()+"-"+M+"-"+P,O=new Date(this.banner_prog().fecha_inicio);O.setDate(O.getDate()+1),O=L(O);let w=new Date(this.banner_prog().fecha_fin);w.setDate(w.getDate()+1),w=L(w),G>=O&&G<=w?(this.banner().cover=this.banner_prog().img,this.banner().url_cover=this.banner_prog().url):this._micrositio_service.getBannerMicrositio(g,this.nota().id_empresa).subscribe(S=>{this.banner.set(S.data),this.banner().cover==""&&this.sin_banner.update(f=>!f)})}else this._micrositio_service.getBannerMicrositio(g,this.nota().id_empresa).subscribe(x=>{this.banner.set(x.data),this.banner().cover==""&&this.sin_banner.update(L=>!L)})})}),this._empresa_service.getEmpresaProductos(g,this.nota().id_empresa,this.index_pro(),8).subscribe(_=>{_.success&&(this.index_pro.set(1),this.arr_productos.set(_.data),this.arr_productos().length<4&&this.is_datos_completos_productos.set(!0))}),this._micrositio_service.getEmpresaDestacados(g,this.nota().id_empresa,this.index_noticias(),6,1).subscribe(_=>{_.success&&(this.index_noticias.set(1),this.arr_noticias.set(_.data),this.arr_noticias().length<3&&this.is_datos_completos_noticias.set(!0))}),this._micrositio_service.getEmpresaDestacados(g,this.nota().id_empresa,this.index_articulos(),6,2).subscribe(_=>{_.success&&(this.index_articulos.set(1),this.arr_articulos.set(_.data),this.arr_articulos().length<3&&this.is_datos_completos_articulos.set(!0))}),this._micrositio_service.getEmpresaDestacados(g,this.nota().id_empresa,this.index_videos(),6,4).subscribe(_=>{_.success&&(this.index_videos.set(1),this.arr_videos.set(_.data),this.arr_videos().length<3&&this.is_datos_completos_videos.set(!0))})):this._router.navigate(["/"]):this._router.navigate(["/"])},error:C=>{},complete:()=>{this._general_service.$paginaLoader.emit(!1)}})}),this._subscription=this._lightbox_event.lightboxEvent$.subscribe(t=>this._onReceivedEvent(t))}loginMailchimp(t,i){this._loginService.existLogin().subscribe(o=>{o?this._router.navigate(["/"+i]):this._loginService.loginMailchimp(t).subscribe(m=>{m.success&&(this._loginService.$_login_mailchimp.emit(!0),this._usuarioService.setToken(m.data.token),this._usuarioService.saveUser(m.data)),this._router.navigate(["/"+i])})})}saveVisita(){B.production&&!B.isSandbox&&this._usuarioService.getUserService().pipe(tt(t=>this._magazine_service.SaveVisitaMagazine(g,"magazine",this.nota().id,this.nota().id_empresa,t.id))).subscribe()}cambiarTamanioImg(){setTimeout(()=>{let i=document.getElementsByClassName("cont-nota-img")[0].getElementsByTagName("img");for(let o=0;o<i.length;o++){let m=i[o],E=m.style.width,T=Number(E.substring(0,E.length-2));(m.width>=230&&m.width<=240||T>=230&&T<=240)&&(m.setAttribute("width","225"),m.style.width="225px")}},1e3)}listaStart(){setTimeout(()=>{let t=document.querySelectorAll("ol");for(let i=0;i<t.length;i++){let o=t[i];if(o.hasAttribute("start")){let m;o.getAttribute("start")!=null?m=o.getAttribute("start"):m="0",m=Number.parseInt(m)-1,o.style.counterReset="item "+m}}},500)}initLigthBox(){this.album.set([]),setTimeout(()=>{let t=document.getElementsByClassName("cont-nota-img")[0];if(t!=null){let i=t.querySelectorAll("img");for(let o=0;o<i.length;o++){let m=i[o];if(m!=null&&m.parentElement.tagName!="A"){m.setAttribute("index",o.toString());let C={src:m.getAttribute("src")};this.album().push(C)}}}},1e3)}impresionBannerSuper(){B.production&&!B.isSandbox&&this._usuarioService.getUserService().pipe(tt(t=>this._empresa_service.saveImpresionBannerSuper(this.banner().id||0,g,t.id))).subscribe()}toggleDisableScroll(t){t=="active"?document.body.style.overflowY="scroll":t=="disable"&&(document.body.style.overflow="hidden")}_onReceivedEvent(t){t.id===K.CLOSE&&this.toggleDisableScroll("active"),t.id===K.OPEN&&setTimeout(()=>{let i=document.querySelector(".lb-nav");i!==null&&i.removeAttribute("hidden")},500),t.id,K.CHANGE_PAGE}cambiaSeccion(t){this.arr_secciones.set([!1,!1,!1,!1,!1]),this.arr_secciones.update(i=>(i[t]=!0,i))}cargarContenidos(){!this.is_datos_completos_productos()&&this.arr_secciones()[1]&&(this.index_pro.update(t=>t++),this._empresa_service.getEmpresaProductos(g,this.nota().id_empresa,this.index_pro(),4).subscribe(t=>{t.success&&(t.data.length<4&&this.is_datos_completos_productos.set(!0),this.arr_productos().push(...t.data))})),!this.is_datos_completos_articulos()&&this.arr_secciones()[2]&&(this.index_articulos.update(t=>t++),this._micrositio_service.getEmpresaDestacados(g,this.nota().id_empresa,this.index_articulos(),3,2).subscribe(t=>{t.success&&(t.data.length<3&&this.is_datos_completos_articulos.set(!0),this.arr_articulos().push(...t.data))})),!this.is_datos_completos_noticias()&&this.arr_secciones()[3]&&(this.index_noticias.update(t=>t++),this._micrositio_service.getEmpresaDestacados(g,this.nota().id_empresa,this.index_noticias(),3,1).subscribe(t=>{t.success&&(t.data.length<3&&this.is_datos_completos_noticias.set(!0),this.arr_noticias().push(...t.data))})),!this.is_datos_completos_videos()&&this.arr_secciones()[4]&&(this.index_videos.update(t=>t++),this._micrositio_service.getEmpresaDestacados(g,this.nota().id_empresa,this.index_videos(),3,4).subscribe(t=>{t.success&&(t.data.length<3&&this.is_datos_completos_videos.set(!0),this.arr_videos().push(...t.data))}))}BuscarImagen(t){t.target.getAttribute("index")&&this.muestraAlerta(t)}muestraAlerta(t){this.toggleDisableScroll("disable");let i=Number(t.target.getAttribute("index"));this._lightbox.open(this.album(),i,this._lightbox_config)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=nt({type:e,selectors:[["app-micrositio"]],viewQuery:function(i,o){if(i&1&&rt(Ht,5),i&2){let m;st(m=ct())&&(o.contSecciones=m.first)}},standalone:!0,features:[lt],decls:20,vars:14,consts:[["contSecciones",""],[2,"height","20px"],[1,"cont-micrositio",3,"scroll"],[1,"separador-contenido-barra-botones","pestanias"],[1,"",3,"click","ngClass"],[1,"text-upcase",3,"ngClass"],[1,"cont-vista-principal"],[1,"cont-banner-empresa"],["target","_blank",3,"href"],["alt","Banner",3,"src"],[1,"text-upcase",3,"click","ngClass"],[1,"cont-micrositio-main"],[1,"columna-principal"],[1,"cont-nota"],[1,"nota-top"],[1,"titulo",3,"innerHtml"],[1,"nota-info"],[1,"separador-linea-contenido"],[1,"nota-body"],[1,"contenedor-autores"],[1,"embed-container"],[3,"cargando"],[1,"nota_id","cambiar-tamanio"],[1,"nota_id","cambiar-tamanio","cont-nota-img",3,"innerHtml"],[1,"cont-micrositio-comentarios"],[3,"titulo_seccion","comentarios","id_nota"],[1,"columna-banners"],[3,"mas_leidos","sub_path"],[1,"icon-pec-pencil"],[1,"icon-pec-calendario"],[1,"icon-pec-vistas"],[1,"contenedor-colaboradores",3,"innerHTML"],[1,"single-autor","autor-destacado"],["target","_self","data","",3,"routerLink"],[1,"smallAvatar"],["alt","Foto autor",3,"src"],[2,"line-height","1.42857",3,"innerHTML"],["href","javascript:;","target","_self","data",""],[1,"single-autor"],[1,"cont-autores-anterior"],[3,"innerHTML"],[1,"cont-autores-anterior--img"],["target","_self",3,"routerLink"],["alt","Foto autor",1,"smallAvatar",3,"src"],[1,"cont-autores-anterior--aut-col"],["target","_self",2,"text-decoration","none","color","#A3A3A4",3,"routerLink","innerHTML"],["title","Video empresa","frameborder","0","allow","autoplay; fullscreen; picture-in-picture","allowfullscreen","",3,"src"],[1,"cont-micrositio-lista--productos"],[1,"cont-lista-mas-productos","cont-prod-nuevo-disenio","bg-c-rallas"],[3,"tipo","producto"],[1,"cont-micrositio-lista--articulos"],[1,"cont-lista-contenidos-empresa"],[3,"url","tipo","magazine","icon"],[1,"cont-micrositio-lista--noticias"],[1,"cont-micrositio-lista--videos"]],template:function(i,o){if(i&1){let m=R();c(0,"section"),h(1,Vt,4,1,"ng-container")(2,Ut,1,0,"div",1),r(),c(3,"div",2),V("scroll",function(T){return A(m),F(o.scroll(T))},!1,at),c(4,"div",3)(5,"div")(6,"button",4),V("click",function(){return A(m),F(o.cambiaSeccion(0))}),c(7,"span"),v(8," CONSULTANDO "),r()(),h(9,Rt,2,3,"button",5)(10,qt,2,3,"button",5)(11,Gt,2,3,"button",5)(12,Yt,2,3,"button",5),r()(),c(13,"div",6,0),h(15,me,25,16,"section")(16,ge,6,1,"section")(17,be,6,1,"section")(18,xe,6,1,"section")(19,Oe,6,1,"section"),r()()}i&2&&(n(),p(1,o.sin_banner()?-1:1),n(),p(2,o.sin_banner()?2:-1),n(4),l("ngClass",z(12,W,o.arr_secciones()[0])),n(3),p(9,o.arr_productos().length!=0?9:-1),n(),p(10,o.arr_articulos().length!=0?10:-1),n(),p(11,o.arr_noticias().length!=0?11:-1),n(),p(12,o.arr_videos().length!=0?12:-1),n(3),p(15,o.arr_secciones()[0]?15:-1),n(),p(16,o.arr_secciones()[1]?16:-1),n(),p(17,o.arr_secciones()[2]?17:-1),n(),p(18,o.arr_secciones()[3]?18:-1),n(),p(19,o.arr_secciones()[4]?19:-1))},dependencies:[pt,_t,mt,bt,Ot,wt,yt,Et,St,Tt,Dt,Lt],styles:['.separador-contenido-barra-botones[_ngcontent-%COMP%]{padding:0;margin-top:1.5rem;height:3.2rem;display:flex}.separador-contenido-barra-botones[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.separador-contenido-barra-botones.pestanias[_ngcontent-%COMP%]{height:3.6rem;gap:2px;border:1px solid transparent;background-color:#fff;border-bottom:4px solid #91100a;position:relative;align-items:flex-end;overflow-y:visible}.separador-contenido-barra-botones.pestanias[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:2px;overflow-x:auto}.separador-contenido-barra-botones.pestanias[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.separador-contenido-barra-botones.pestanias[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:4rem;padding:.55rem 1.5rem;padding-bottom:0;color:#91100a;border:1px solid transparent;border-top-left-radius:10px;border-top-right-radius:10px;position:relative;z-index:2;flex:none}.separador-contenido-barra-botones.pestanias[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{padding:.55rem 1.5rem;background-color:#91100a;color:#fff}.separador-contenido-barra-botones.pestanias[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{padding:.55rem 1.5rem;background-color:#91100ab3;color:#fff}.separador-contenido-barra-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;cursor:pointer;font-weight:700;font-family:Open Sans Condensed,sans-serif;font-size:20px;padding:.55rem 1rem;transition:all .3s}.separador-contenido-barra-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transition:all .3s;background:#ffffff4d}.separador-contenido-barra-botones[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:#91100a}@media (min-width: 768px){.cont-micrositio[_ngcontent-%COMP%]{margin:0 auto;max-width:730px}}@media (min-width: 992px){.cont-micrositio[_ngcontent-%COMP%]{max-width:975px}}@media (min-width: 1200px){.cont-micrositio[_ngcontent-%COMP%]{max-width:1155px}}.cont-micrositio[_ngcontent-%COMP%]   .cont-vista-principal[_ngcontent-%COMP%]   .cont-micrositio-main[_ngcontent-%COMP%]{display:flex;gap:15px}@media (max-width: 767px){.cont-micrositio[_ngcontent-%COMP%]   .cont-vista-principal[_ngcontent-%COMP%]   .cont-micrositio-main[_ngcontent-%COMP%]{flex-direction:column}}.cont-micrositio[_ngcontent-%COMP%]   .cont-vista-principal[_ngcontent-%COMP%]   .cont-micrositio-main[_ngcontent-%COMP%]   .columna-principal[_ngcontent-%COMP%]{width:65%}@media (max-width: 767px){.cont-micrositio[_ngcontent-%COMP%]   .cont-vista-principal[_ngcontent-%COMP%]   .cont-micrositio-main[_ngcontent-%COMP%]   .columna-principal[_ngcontent-%COMP%]{width:100%}}.cont-micrositio[_ngcontent-%COMP%]   .cont-vista-principal[_ngcontent-%COMP%]   .cont-micrositio-main[_ngcontent-%COMP%]   .columna-principal[_ngcontent-%COMP%]   .cont-nota[_ngcontent-%COMP%]{margin-top:0}.cont-micrositio[_ngcontent-%COMP%]   .cont-vista-principal[_ngcontent-%COMP%]   .cont-micrositio-main[_ngcontent-%COMP%]   .columna-banners[_ngcontent-%COMP%]{width:35%}@media (max-width: 767px){.cont-micrositio[_ngcontent-%COMP%]   .cont-vista-principal[_ngcontent-%COMP%]   .cont-micrositio-main[_ngcontent-%COMP%]   .columna-banners[_ngcontent-%COMP%]{width:100%}}@media (min-width: 1200px){.cont-lista-contenidos-empresa[_ngcontent-%COMP%]   app-cartas-notas[_ngcontent-%COMP%]{max-width:375px}}.cont-banner-empresa[_ngcontent-%COMP%]{position:relative;padding-top:15.75%;margin:2rem 0}.cont-banner-empresa[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .cont-banner-empresa[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.cont-lista-mas-productos[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%;padding:15px;box-sizing:content-box;gap:15px}@media (min-width: 480px){.cont-lista-mas-productos[_ngcontent-%COMP%]{gap:3%;row-gap:20px;grid-template-columns:48.7% 48.7%}}@media (min-width: 768px){.cont-lista-mas-productos[_ngcontent-%COMP%]{grid-template-columns:22.7% 22.7% 22.7% 22.7%}}.cont-prod-nuevo-disenio[_ngcontent-%COMP%]   app-carta-producto[_ngcontent-%COMP%]{flex:none;width:auto;box-shadow:3px 3px 8px -1px #0003;border-radius:1rem;overflow:hidden;transition:all .8s}@media (min-width: 768px){.cont-prod-nuevo-disenio[_ngcontent-%COMP%]   app-carta-producto[_ngcontent-%COMP%]:hover{transform:scale(1.05)}}.cont-lista-contenidos-empresa[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%;gap:15px}@media (min-width: 768px){.cont-lista-contenidos-empresa[_ngcontent-%COMP%]{grid-template-columns:48.92% 48.92%}}@media (min-width: 1024px){.cont-lista-contenidos-empresa[_ngcontent-%COMP%]{grid-template-columns:32.25% 32.25% 32.25%}.cont-lista-contenidos-empresa[_ngcontent-%COMP%]   app-cartas-notas[_ngcontent-%COMP%]{max-width:360px}}@media (min-width: 1200px){.cont-lista-contenidos-empresa[_ngcontent-%COMP%]{grid-template-columns:32.43% 32.43% 32.43%}.cont-lista-contenidos-empresa[_ngcontent-%COMP%]   app-cartas-notas[_ngcontent-%COMP%]{max-width:360px}}.cont-lista-contenidos-empresa.cartas-pequenias[_ngcontent-%COMP%]{padding:1rem}@media (min-width: 1200px){.cont-lista-contenidos-empresa.cartas-pequenias[_ngcontent-%COMP%]{padding:2.5rem;gap:30px;grid-template-columns:31.43% 31.43% 31.43%}}.separador-linea-contenido[_ngcontent-%COMP%]{background-color:#e6e6e6;border:none;border-top:1px solid #e6e6e6;margin:10px 0}.embed-container[_ngcontent-%COMP%]{width:100%;padding-bottom:56.25%;position:relative}.embed-container.video-vertical[_ngcontent-%COMP%]{width:100%;padding:2px 2px 172.25%;border:1px solid transparent;border-radius:25px;overflow:hidden;z-index:2}.embed-container.video-vertical[_ngcontent-%COMP%]:hover   .info-video[_ngcontent-%COMP%]{display:block!important}.embed-container.video-vertical[_ngcontent-%COMP%]:hover   .cont-iframe[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080}.embed-container.video-vertical[_ngcontent-%COMP%]:hover   .cont-progreso[_ngcontent-%COMP%]{opacity:1}.embed-container.video-vertical[_ngcontent-%COMP%]   .cont-iframe[_ngcontent-%COMP%]{width:100%;height:100%;left:0;top:0;position:absolute}.embed-container.video-vertical[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:102%;height:102%;left:50%;top:50%;transform:translate(-50%,-50%);z-index:-2}.embed-container.video-vertical[_ngcontent-%COMP%]   .info-video[_ngcontent-%COMP%]{display:none;width:100%;height:100%;left:0;top:0;position:absolute}.embed-container.video-vertical[_ngcontent-%COMP%]   .info-video.ocultar[_ngcontent-%COMP%]{opacity:0}.embed-container.video-vertical[_ngcontent-%COMP%]   .reload-video[_ngcontent-%COMP%], .embed-container.video-vertical[_ngcontent-%COMP%]   .play-principal[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:7rem;transform:translate(-50%,-50%);z-index:20;color:#fff}.embed-container.video-vertical[_ngcontent-%COMP%]   .cont-progreso[_ngcontent-%COMP%]{opacity:0}.embed-container.video-vertical[_ngcontent-%COMP%]   .cont-progreso[_ngcontent-%COMP%]:hover   .progreso-video[_ngcontent-%COMP%]::-webkit-slider-thumb{opacity:1}.embed-container.video-vertical[_ngcontent-%COMP%]   .progreso-video[_ngcontent-%COMP%]{position:absolute;top:90%;left:50%;transform:translate(-50%,-50%);width:80%;border-radius:5px;background-size:70% 100%;padding:0;appearance:none;background-image:linear-gradient(#91100a,#91100a);background-size:0% 100%;background-repeat:no-repeat}.embed-container.video-vertical[_ngcontent-%COMP%]   .progreso-video[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;height:15px;width:15px;border-radius:50%;background:#ccc;cursor:pointer;box-shadow:0 0 2px #555;transition:background .3s ease-in-out;opacity:0;position:relative;top:-6px}.embed-container.video-vertical[_ngcontent-%COMP%]   .progreso-video[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{background:#91100a}.embed-container.video-vertical[_ngcontent-%COMP%]   .progreso-video[_ngcontent-%COMP%]::-webkit-slider-runnable-track{-webkit-appearance:none;box-shadow:none;border:1px solid transparent;border-radius:5px;background:transparent;cursor:pointer;height:4px}.embed-container.video-vertical[_ngcontent-%COMP%]   .titulo-video[_ngcontent-%COMP%]{top:0;left:0;position:absolute;background-color:#000c;z-index:3;width:100%;color:#fff;padding:10px 1rem;font-size:1.35rem}.embed-container.video-vertical[_ngcontent-%COMP%]   .tag-video[_ngcontent-%COMP%]{position:absolute;left:1rem;bottom:1rem;color:#fff;font-size:1.15rem;font-weight:500;z-index:3}.embed-container.video-vertical[_ngcontent-%COMP%]   .controles-propuesta[_ngcontent-%COMP%]{position:absolute;right:2rem;bottom:1rem;color:#fff;font-size:2.5rem;cursor:pointer}.embed-container.video-vertical[_ngcontent-%COMP%]   .controles-propuesta.volume[_ngcontent-%COMP%]{bottom:unset;right:unset;top:1rem;left:1rem}.embed-container.video-vertical[_ngcontent-%COMP%]   .controles-propuesta.play[_ngcontent-%COMP%]{bottom:unset;top:1rem}.embed-container.video-vertical[_ngcontent-%COMP%]   .controles-propuesta.fullscreen[_ngcontent-%COMP%]{right:2rem}.embed-container.video-vertical[_ngcontent-%COMP%]   .controles[_ngcontent-%COMP%]{position:absolute;right:2rem;bottom:1rem;color:#fff;font-size:2.5rem;cursor:pointer}.embed-container.video-vertical[_ngcontent-%COMP%]   .controles.play[_ngcontent-%COMP%]{right:5rem}.embed-container.video-vertical[_ngcontent-%COMP%]   .controles.fullscreen[_ngcontent-%COMP%]{right:8rem}@media (min-width: 568px){.embed-container.video-vertical[_ngcontent-%COMP%]{width:42%;padding-bottom:71.25%}}.embed-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;left:0;top:0;position:absolute}']})}}return e})();export{We as default};
